var Rn=Object.defineProperty;var zi=i=>{throw TypeError(i)};var Ln=(i,e,t)=>e in i?Rn(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var mt=(i,e,t)=>Ln(i,typeof e!="symbol"?e+"":e,t),Yi=(i,e,t)=>e.has(i)||zi("Cannot "+t);var Ue=(i,e,t)=>(Yi(i,e,"read from private field"),t?t.call(i):e.get(i)),dt=(i,e,t)=>e.has(i)?zi("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),or=(i,e,t,r)=>(Yi(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t);import{a as lt,y as Ne,m as p,D as _e,k as O,a5 as hi,I as pe,e as De,d as Fe,h as Be,l as ae,P as X,E as wt,F as Ot,b as te,j as re,G as Ci,w as yn,n as Ke,x as Mn,o as Tt,a6 as Hi,z as Je,S as In,a7 as ur,a8 as bi,K as Nr,L as Pr,A as Ye,B as He,C as Bn,f as Dn,a4 as Si,c as Ar,u as kr,q as Tr,r as Er,ag as Fn,ah as zr,ai as _n,J as gn,ad as pn,ac as Nn,ae as Pn,H as Gn}from"../chunks/scheduler.ByCPKIuY.js";import{S as at,i as st,j as zn,b as q,d as U,m as V,a as A,g as Me,t as E,c as Ie,e as j}from"../chunks/index.ClPuRMaH.js";import{af as cr,ag as Ai,ah as hn,ai as Yn,aj as Hn,ak as ki,al as Wn,g as ht,f as qn,am as Ti,an as Un,ao as Vt,ap as Vn,aq as jn,ar as di,as as Wi,at as qi,a2 as Yr,au as yi,av as xn,O as yt,X as Et,aw as Gr,Q as gt,ax as bn,ay as Sn,_ as Qt,S as Ei,U as ze,B as Xn,G as vn,V as wi,Y as Qn,a0 as Cn,Z as An,az as kn,aA as Tn,aB as $e,R as Xe,aC as jt,a3 as Kn,a4 as Jn,a5 as Zn,D as $n,a7 as Ui,a8 as el,a9 as fr}from"../chunks/VennDiagram.svelte_svelte_type_style_lang.CkZ_LV8G.js";import{w as mr}from"../chunks/entry.C8PsA17A.js";import{h as xe,p as tl}from"../chunks/button.z-QNlCAg.js";import{a as _i,D as Ge,B as En,Q as Rt}from"../chunks/QueryViewer.CV3bM2OH.js";import{p as rl}from"../chunks/stores.0T_rOTg-.js";function Vi(i){return t=>t.map(r=>{var n;const l={},a=Object.keys(r);for(const o of a){const s=(n=i[o])!=null?n:o;l[s]=r[o]}return l})}function il(i,e){if(i.length===0||e.length===0)return{};const t=Object.keys(i[0]),r=Object.keys(e[0]),n={};for(const l of t)r.includes(l)&&(n[l]=l);return n}function nl(i,e,t){for(const r in t){const n=t[r];if(i[n]!==e[r])return!1}return!0}function ll(i,e){return r=>{if(!i.length)return r;const n=il(r,i),l=Object.keys(i[0]);return r.flatMap(o=>{const s=i.filter(u=>nl(o,u,n));if(s.length)return s.map(u=>({...o,...u}));const d=Object.fromEntries(l.filter(u=>o[u]==null).map(u=>[u,void 0]));return{...o,...d}})}}function ji(i){return t=>{const r=t.map(n=>({...n}));for(const n in i){const l=i[n],a=typeof l=="function"?l(r):l,o=a!=null&&a[Symbol.iterator]&&typeof a!="string"?a:t.map(()=>a);let s=-1;for(const d of r)d[n]=o[++s]}return r}}function al(i){return t=>{const r=ol(i),n=[];for(const l in r){const a=r[l];let o;typeof a=="function"?o=a(t):Array.isArray(a)?o=a:o=Array.from(new Set(t.map(s=>s[l]))),n.push(o.map(s=>({[l]:s})))}return sl(n)}}function sl(i){function e(r,n,l){if(!l.length&&n!=null){r.push(n);return}const a=l[0],o=l.slice(1);for(const s of a)e(r,{...n,...s},o)}const t=[];return e(t,null,i),t}function ol(i){if(Array.isArray(i)){const e={};for(const t of i)e[t]=t;return e}else if(typeof i=="object")return i;return{[i]:i}}function fl(i){return t=>{const r=[];for(const n of t){const l={...n};for(const a in i)l[a]==null&&(l[a]=i[a]);r.push(l)}return r}}function xi(i,e){return r=>{const n=al(i)(r),l=ll(r)(n);return e?fl(e)(l):l}}function Xi(i,e,t){return i==null||e==null?void 0:e===0&&i===0?0:!t&&e===0?void 0:i/e}function vi(i,e,t){const r=typeof i=="function"?i:o=>o[i],n=o=>o[e],{predicate:l,allowDivideByZero:a}={};return l==null?(o,s,d)=>{const u=n(o),f=r(o,s,d);return Xi(f,u,a)}:(o,s,d)=>{if(!l(o,s,d))return;const u=n(o),f=r(o,s,d);return Xi(f,u,a)}}const xt=Symbol.for("__evidence-chart-window-debug__"),ul=(i,e)=>{window[xt]||(window[xt]={}),window[xt][i]=e},cl=i=>{window[xt]||(window[xt]={}),delete window[xt][i]},Ut=500,ml=(i,e)=>{var k;const t=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)&&i.clientWidth*3*i.clientHeight*3>16777215;cr("light",Ai),cr("dark",hn);let r;const n=()=>{r=ki(i,e.theme,{renderer:t?"svg":e.renderer??"canvas"})};n(),ul(r.id,r),e.connectGroup&&(r.group=e.connectGroup,Yn(e.connectGroup));const l=()=>{if(e.seriesColors){const h=r.getOption();if(!h)return;const T={...h};for(const M of Object.keys(e.seriesColors)){const G=h.series.findIndex(B=>B.name===M);G!==-1&&(T.series[G]={...T.series[G],itemStyle:{...T.series[G].itemStyle,color:e.seriesColors[M]}})}r.setOption(T)}},a=()=>{e.echartsOptions&&r.setOption({...e.echartsOptions})},o=()=>{let h=[];if(e.seriesOptions){const T=e.config.series.reduce((M,{evidenceSeriesType:G},B)=>((G==="reference_line"||G==="reference_area"||G==="reference_point")&&M.push(B),M),[]);for(let M=0;M<e.config.series.length;M++)T.includes(M)?h.push({}):h.push({...e.seriesOptions});r.setOption({series:h})}};r.setOption({...e.config,animationDuration:Ut,animationDurationUpdate:Ut}),l(),a(),o();const s=e.dispatch;r.on("click",function(h){s("click",h)});const d=i.parentElement,u=Hn(()=>{r.resize({animation:{duration:Ut}}),C()},100);let f;window.ResizeObserver&&d?(f=new ResizeObserver(u),f.observe(d)):window.addEventListener("resize",u);const C=()=>{if(e.showAllXAxisLabels){const h=r.getOption();if(!h)return;const T=new Set(h.series.flatMap(B=>{var H;return(H=B.data)==null?void 0:H.map(S=>S[0])})),M=4/5,G=(i==null?void 0:i.clientWidth)??0;if(!e.swapXY){const B={xAxis:{axisLabel:{interval:0,overflow:"truncate",width:G*M/T.size}}};r.setOption(B)}}},D=h=>{h.theme!==e.theme&&(r.dispose(),e=h,n()),e=h,r.setOption({...e.config,animationDuration:Ut,animationDurationUpdate:Ut},!0),l(),a(),o(),r.resize({animation:{duration:Ut}}),C()};return u(),window[k=Symbol.for("chart renders")]??(window[k]=0),window[Symbol.for("chart renders")]++,{update(h){window[Symbol.for("chart renders")]++,D(h)},destroy(){f?f.unobserve(d):window.removeEventListener("resize",u),r.dispose(),cl(r.id)}}},dl=(i,e)=>{cr("light",Ai),cr("dark",hn),console.log("echartsCanvasDownloadAction",e.theme);const t=ki(i,e.theme,{renderer:"canvas"});e.config.animation=!1,t.setOption(e.config);const r=()=>{if(e.seriesColors){const d=t.getOption();if(!d)return;const u={...d};for(const f of Object.keys(e.seriesColors)){const C=d.series.findIndex(D=>D.name===f);C!==-1&&(u.series[C]={...u.series[C],itemStyle:{...u.series[C].itemStyle,color:e.seriesColors[f]}})}t.setOption(u)}},n=()=>{e.echartsOptions&&t.setOption({...e.echartsOptions})},l=()=>{let d=[];if(e.seriesOptions){const u=e.config.series.reduce((f,{evidenceSeriesType:C},D)=>((C==="reference_line"||C==="reference_area"||C==="reference_point")&&f.push(D),f),[]);for(let f=0;f<e.config.series.length;f++)u.includes(f)?d.push({}):d.push({...e.seriesOptions});t.setOption({series:d})}};n(),r(),l();let a=t.getConnectedDataURL({type:"png",pixelRatio:3,backgroundColor:e.backgroundColor,excludeComponents:["toolbox"]});const o=new Date,s=new Date(o.getTime()-o.getTimezoneOffset()*6e4).toISOString().slice(0,19).replaceAll(":","-");return Wn(a,(e.evidenceChartTitle??e.queryID??"evidence-chart")+`_${s}.png`),t.dispose(),{destroy(){t.dispose()}}},dr=(i,e)=>{cr("evidence-light",Ai);const{config:t,ratio:r,echartsOptions:n,seriesOptions:l,seriesColors:a,isMap:o,extraHeight:s,width:d}=e;let u={renderer:"canvas"};o&&(u.height=d*.5+s,i&&i.parentNode&&(i.style.height=u.height+"px",i.parentNode.style.height=u.height+"px"));const f=ki(i,"evidence-light",u);t.animation=!1,f.setOption(t),n&&f.setOption(n);const C=()=>{if(a){const T=f.getOption();if(!T)return;const M={...T};for(const G of Object.keys(a)){const B=T.series.findIndex(H=>H.name===G);B!==-1&&(M.series[B]={...M.series[B],itemStyle:{...M.series[B].itemStyle,color:a[G]}})}f.setOption(M)}},D=()=>{n&&f.setOption({...n})},k=()=>{let T=[];if(l){const M=t.series.reduce((G,{evidenceSeriesType:B},H)=>((B==="reference_line"||B==="reference_area"||B==="reference_point")&&G.push(H),G),[]);for(let G=0;G<t.series.length;G++)M.includes(G)?T.push({}):T.push({...l});f.setOption({series:T})}};D(),C(),k();let h=f.getConnectedDataURL({type:"jpeg",pixelRatio:r,backgroundColor:"#fff",excludeComponents:["toolbox"]});i.innerHTML=`<img src=${h} width="100%" style="
        position: absolute; 
        top: 0;
        user-select: all;
        -webkit-user-select: all;
        -moz-user-select: all;
        -ms-user-select: all;
    " />`,e.config.animation=!0};function yl(i){let e;function t(l,a){return l[9]?hl:gl}let r=t(i),n=r(i);return{c(){n.c(),e=Ne()},l(l){n.l(l),e=Ne()},m(l,a){n.m(l,a),p(l,e,a)},p(l,a){r===(r=t(l))&&n?n.p(l,a):(n.d(1),n=r(l),n&&(n.c(),n.m(e.parentNode,e)))},d(l){l&&O(e),n.d(l)}}}function _l(i){let e,t,r,n;return{c(){e=De("div"),this.h()},l(l){e=Fe(l,"DIV",{class:!0,style:!0}),Be(e).forEach(O),this.h()},h(){ae(e,"class","chart"),X(e,"height",i[1]),X(e,"width",i[2]),X(e,"margin-left","0"),X(e,"margin-top","15px"),X(e,"margin-bottom","10px"),X(e,"overflow","visible"),X(e,"break-inside","avoid")},m(l,a){p(l,e,a),r||(n=wt(t=dr.call(null,e,{config:i[0],ratio:2,echartsOptions:i[5],seriesOptions:i[6],seriesColors:i[13]})),r=!0)},p(l,a){a&2&&X(e,"height",l[1]),a&4&&X(e,"width",l[2]),t&&Ot(t.update)&&a&8289&&t.update.call(null,{config:l[0],ratio:2,echartsOptions:l[5],seriesOptions:l[6],seriesColors:l[13]})},d(l){l&&O(e),r=!1,n()}}}function gl(i){let e,t,r,n,l,a,o;return{c(){e=De("div"),r=te(),n=De("div"),this.h()},l(s){e=Fe(s,"DIV",{class:!0,style:!0}),Be(e).forEach(O),r=re(s),n=Fe(s,"DIV",{class:!0,style:!0}),Be(n).forEach(O),this.h()},h(){ae(e,"class","chart md:hidden"),X(e,"height",i[1]),X(e,"width","650px"),X(e,"margin-left","0"),X(e,"margin-top","15px"),X(e,"margin-bottom","10px"),X(e,"overflow","visible"),X(e,"break-inside","avoid"),ae(n,"class","chart hidden md:block"),X(n,"height",i[1]),X(n,"width","841px"),X(n,"margin-left","0"),X(n,"margin-top","15px"),X(n,"margin-bottom","10px"),X(n,"overflow","visible"),X(n,"break-inside","avoid")},m(s,d){p(s,e,d),p(s,r,d),p(s,n,d),a||(o=[wt(t=dr.call(null,e,{config:i[0],ratio:4,echartsOptions:i[5],seriesOptions:i[6],seriesColors:i[13],isMap:i[7],extraHeight:i[8],width:650})),wt(l=dr.call(null,n,{config:i[0],ratio:4,echartsOptions:i[5],seriesOptions:i[6],seriesColors:i[13],isMap:i[7],extraHeight:i[8],width:841}))],a=!0)},p(s,d){d&2&&X(e,"height",s[1]),t&&Ot(t.update)&&d&8673&&t.update.call(null,{config:s[0],ratio:4,echartsOptions:s[5],seriesOptions:s[6],seriesColors:s[13],isMap:s[7],extraHeight:s[8],width:650}),d&2&&X(n,"height",s[1]),l&&Ot(l.update)&&d&8673&&l.update.call(null,{config:s[0],ratio:4,echartsOptions:s[5],seriesOptions:s[6],seriesColors:s[13],isMap:s[7],extraHeight:s[8],width:841})},d(s){s&&(O(e),O(r),O(n)),a=!1,Ci(o)}}}function hl(i){let e,t,r,n,l,a,o;return{c(){e=De("div"),r=te(),n=De("div"),this.h()},l(s){e=Fe(s,"DIV",{class:!0,style:!0}),Be(e).forEach(O),r=re(s),n=Fe(s,"DIV",{class:!0,style:!0}),Be(n).forEach(O),this.h()},h(){ae(e,"class","chart md:hidden"),X(e,"height",i[1]),X(e,"width",i[11]+"px"),X(e,"margin-left","0"),X(e,"margin-top","15px"),X(e,"margin-bottom","10px"),X(e,"overflow","visible"),X(e,"break-inside","avoid"),ae(n,"class","chart hidden md:block"),X(n,"height",i[1]),X(n,"width",i[10]+"px"),X(n,"margin-left","0"),X(n,"margin-top","15px"),X(n,"margin-bottom","10px"),X(n,"overflow","visible"),X(n,"break-inside","avoid")},m(s,d){p(s,e,d),p(s,r,d),p(s,n,d),a||(o=[wt(t=dr.call(null,e,{config:i[0],ratio:4,echartsOptions:i[5],seriesOptions:i[6],seriesColors:i[13],isMap:i[7],extraHeight:i[8],width:i[11]})),wt(l=dr.call(null,n,{config:i[0],ratio:4,echartsOptions:i[5],seriesOptions:i[6],seriesColors:i[13],isMap:i[7],extraHeight:i[8],width:i[10]}))],a=!0)},p(s,d){d&2&&X(e,"height",s[1]),d&2048&&X(e,"width",s[11]+"px"),t&&Ot(t.update)&&d&10721&&t.update.call(null,{config:s[0],ratio:4,echartsOptions:s[5],seriesOptions:s[6],seriesColors:s[13],isMap:s[7],extraHeight:s[8],width:s[11]}),d&2&&X(n,"height",s[1]),d&1024&&X(n,"width",s[10]+"px"),l&&Ot(l.update)&&d&9697&&l.update.call(null,{config:s[0],ratio:4,echartsOptions:s[5],seriesOptions:s[6],seriesColors:s[13],isMap:s[7],extraHeight:s[8],width:s[10]})},d(s){s&&(O(e),O(r),O(n)),a=!1,Ci(o)}}}function bl(i){let e;function t(l,a){if(l[3])return _l;if(l[4])return yl}let r=t(i),n=r&&r(i);return{c(){n&&n.c(),e=Ne()},l(l){n&&n.l(l),e=Ne()},m(l,a){n&&n.m(l,a),p(l,e,a)},p(l,[a]){r===(r=t(l))&&n?n.p(l,a):(n&&n.d(1),n=r&&r(l),n&&(n.c(),n.m(e.parentNode,e)))},i:_e,o:_e,d(l){l&&O(e),n&&n.d(l)}}}function Sl(i,e,t){let r,n,l,a,o,s,d=_e,u=()=>(d(),d=pe(r,_=>t(13,s=_)),r);i.$$.on_destroy.push(()=>d());const{resolveColorsObject:f}=ht();let{config:C=void 0}=e,{height:D="291px"}=e,{width:k="100%"}=e,{copying:h=!1}=e,{printing:T=!1}=e,{echartsOptions:M=void 0}=e,{seriesOptions:G=void 0}=e,{seriesColors:B=void 0}=e,{isMap:H=!1}=e,{extraHeight:S=void 0}=e,v=!1,z,Q;const x=hi("gridConfig");return x&&(v=!0,{cols:z,gapWidth:Q}=x),i.$$set=_=>{"config"in _&&t(0,C=_.config),"height"in _&&t(1,D=_.height),"width"in _&&t(2,k=_.width),"copying"in _&&t(3,h=_.copying),"printing"in _&&t(4,T=_.printing),"echartsOptions"in _&&t(5,M=_.echartsOptions),"seriesOptions"in _&&t(6,G=_.seriesOptions),"seriesColors"in _&&t(14,B=_.seriesColors),"isMap"in _&&t(7,H=_.isMap),"extraHeight"in _&&t(8,S=_.extraHeight)},i.$$.update=()=>{i.$$.dirty&16384&&u(t(12,r=f(B))),i.$$.dirty&32768&&t(18,n=Math.min(Number(z),2)),i.$$.dirty&327680&&t(11,l=(650-Number(Q)*(n-1))/n),i.$$.dirty&32768&&t(17,a=Math.min(Number(z),3)),i.$$.dirty&196608&&t(10,o=(841-Number(Q)*(a-1))/a)},[C,D,k,h,T,M,G,H,S,v,o,l,r,s,B,z,Q,a,n]}class Cl extends at{constructor(e){super(),st(this,e,Sl,bl,lt,{config:0,height:1,width:2,copying:3,printing:4,echartsOptions:5,seriesOptions:6,seriesColors:14,isMap:7,extraHeight:8})}}function Al(i){let e,t,r="Loading...",n,l,a;return{c(){e=De("div"),t=De("span"),t.textContent=r,n=te(),l=De("div"),this.h()},l(o){e=Fe(o,"DIV",{role:!0,class:!0});var s=Be(e);t=Fe(s,"SPAN",{class:!0,"data-svelte-h":!0}),yn(t)!=="svelte-1wtojot"&&(t.textContent=r),n=re(s),l=Fe(s,"DIV",{class:!0,style:!0}),Be(l).forEach(O),s.forEach(O),this.h()},h(){ae(t,"class","sr-only"),ae(l,"class","bg-base-100 rounded-md max-w-[100%]"),X(l,"height",i[0]),X(l,"margin-top","15px"),X(l,"margin-bottom","31px"),ae(e,"role","status"),ae(e,"class","animate-pulse")},m(o,s){p(o,e,s),Ke(e,t),Ke(e,n),Ke(e,l)},p(o,[s]){s&1&&X(l,"height",o[0])},i(o){o&&(a||Mn(()=>{a=zn(e,qn,{}),a.start()}))},o:_e,d(o){o&&O(e)}}}function kl(i,e,t){let{height:r="231px"}=e;return i.$$set=n=>{"height"in n&&t(0,r=n.height)},[r]}class Tl extends at{constructor(e){super(),st(this,e,kl,Al,lt,{height:0})}}function Qi(i){let e,t,r,n;const l=[wl,El],a=[];function o(s,d){return 1}return e=o(),t=a[e]=l[e](i),{c(){t.c(),r=Ne()},l(s){t.l(s),r=Ne()},m(s,d){a[e].m(s,d),p(s,r,d),n=!0},p(s,d){t.p(s,d)},i(s){n||(A(t),n=!0)},o(s){E(t),n=!1},d(s){s&&O(r),a[e].d(s)}}}function El(i){let e,t,r,n;return{c(){e=De("div"),this.h()},l(l){e=Fe(l,"DIV",{class:!0,style:!0}),Be(e).forEach(O),this.h()},h(){ae(e,"class","chart svelte-19r8f8"),X(e,"height",i[3]),X(e,"width",i[4]),X(e,"margin-left","0"),X(e,"margin-top","15px"),X(e,"margin-bottom","10px"),X(e,"overflow","visible"),X(e,"display",i[14]?"none":"inherit")},m(l,a){p(l,e,a),r||(n=wt(t=ml.call(null,e,{config:i[0],...i[24],echartsOptions:i[9],seriesOptions:i[10],dispatch:i[23],renderer:i[6],connectGroup:i[12],seriesColors:i[18],theme:i[19]})),r=!0)},p(l,a){a[0]&8&&X(e,"height",l[3]),a[0]&16&&X(e,"width",l[4]),a[0]&16384&&X(e,"display",l[14]?"none":"inherit"),t&&Ot(t.update)&&a[0]&17569345&&t.update.call(null,{config:l[0],...l[24],echartsOptions:l[9],seriesOptions:l[10],dispatch:l[23],renderer:l[6],connectGroup:l[12],seriesColors:l[18],theme:l[19]})},i:_e,o:_e,d(l){l&&O(e),r=!1,n()}}}function wl(i){let e,t;return e=new Tl({props:{height:i[3]}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&8&&(l.height=r[3]),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function Ki(i){let e,t,r,n=i[8]&&Ji(i),l=i[5]&&i[7]&&Zi(i);return{c(){e=De("div"),n&&n.c(),t=te(),l&&l.c(),this.h()},l(a){e=Fe(a,"DIV",{class:!0});var o=Be(e);n&&n.l(o),t=re(o),l&&l.l(o),o.forEach(O),this.h()},h(){ae(e,"class","chart-footer svelte-19r8f8")},m(a,o){p(a,e,o),n&&n.m(e,null),Ke(e,t),l&&l.m(e,null),r=!0},p(a,o){a[8]?n?(n.p(a,o),o[0]&256&&A(n,1)):(n=Ji(a),n.c(),A(n,1),n.m(e,t)):n&&(Me(),E(n,1,1,()=>{n=null}),Ie()),a[5]&&a[7]?l?(l.p(a,o),o[0]&160&&A(l,1)):(l=Zi(a),l.c(),A(l,1),l.m(e,null)):l&&(Me(),E(l,1,1,()=>{l=null}),Ie())},i(a){r||(A(n),A(l),r=!0)},o(a){E(n),E(l),r=!1},d(a){a&&O(e),n&&n.d(),l&&l.d()}}}function Ji(i){let e,t;return e=new Ti({props:{text:"Save Image",class:"download-button",downloadData:i[31],display:i[16],queryID:i[1],$$slots:{default:[Ol]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&8192&&(l.downloadData=r[31]),n[0]&65536&&(l.display=r[16]),n[0]&2&&(l.queryID=r[1]),n[1]&16&&(l.$$scope={dirty:n,ctx:r}),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function Ol(i){let e,t,r,n;return{c(){e=Nr("svg"),t=Nr("rect"),r=Nr("circle"),n=Nr("path"),this.h()},l(l){e=Pr(l,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var a=Be(e);t=Pr(a,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),Be(t).forEach(O),r=Pr(a,"circle",{cx:!0,cy:!0,r:!0}),Be(r).forEach(O),n=Pr(a,"path",{d:!0}),Be(n).forEach(O),a.forEach(O),this.h()},h(){ae(t,"x","3"),ae(t,"y","3"),ae(t,"width","18"),ae(t,"height","18"),ae(t,"rx","2"),ae(r,"cx","8.5"),ae(r,"cy","8.5"),ae(r,"r","1.5"),ae(n,"d","M20.4 14.5L16 10 4 20"),ae(e,"xmlns","http://www.w3.org/2000/svg"),ae(e,"width","12"),ae(e,"height","12"),ae(e,"viewBox","0 0 24 24"),ae(e,"fill","none"),ae(e,"stroke","#000"),ae(e,"stroke-width","2"),ae(e,"stroke-linecap","round"),ae(e,"stroke-linejoin","round")},m(l,a){p(l,e,a),Ke(e,t),Ke(e,r),Ke(e,n)},p:_e,d(l){l&&O(e)}}}function Zi(i){let e,t;return e=new Ti({props:{text:"Download Data",data:i[5],queryID:i[1],class:"download-button",display:i[16]}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&32&&(l.data=r[5]),n[0]&2&&(l.queryID=r[1]),n[0]&65536&&(l.display=r[16]),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function $i(i){let e,t;return e=new Un({props:{source:JSON.stringify(i[0],void 0,3),copyToClipboard:!0,$$slots:{default:[Rl]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&1&&(l.source=JSON.stringify(r[0],void 0,3)),n[0]&1|n[1]&16&&(l.$$scope={dirty:n,ctx:r}),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function Rl(i){let e=JSON.stringify(i[0],void 0,3)+"",t;return{c(){t=Ye(e)},l(r){t=He(r,e)},m(r,n){p(r,t,n)},p(r,n){n[0]&1&&e!==(e=JSON.stringify(r[0],void 0,3)+"")&&Bn(t,e)},d(r){r&&O(t)}}}function en(i){let e,t,r,n;return{c(){e=De("div"),this.h()},l(l){e=Fe(l,"DIV",{class:!0,style:!0}),Be(e).forEach(O),this.h()},h(){ae(e,"class","chart svelte-19r8f8"),X(e,"display","none"),X(e,"visibility","visible"),X(e,"height",i[3]),X(e,"width","666px"),X(e,"margin-left","0"),X(e,"margin-top","15px"),X(e,"margin-bottom","15px"),X(e,"overflow","visible")},m(l,a){p(l,e,a),r||(n=wt(t=dl.call(null,e,{config:i[0],...i[24],echartsOptions:i[9],seriesOptions:i[10],seriesColors:i[18],queryID:i[1],evidenceChartTitle:i[2],theme:i[19],backgroundColor:i[20].colors["base-100"]})),r=!0)},p(l,a){a[0]&8&&X(e,"height",l[3]),t&&Ot(t.update)&&a[0]&18613767&&t.update.call(null,{config:l[0],...l[24],echartsOptions:l[9],seriesOptions:l[10],seriesColors:l[18],queryID:l[1],evidenceChartTitle:l[2],theme:l[19],backgroundColor:l[20].colors["base-100"]})},d(l){l&&O(e),r=!1,n()}}}function Ll(i){let e,t,r,n,l,a,o,s,d,u,f=!i[15]&&Qi(i);r=new Cl({props:{config:i[0],height:i[3],width:i[4],copying:i[14],printing:i[15],echartsOptions:i[9],seriesOptions:i[10],seriesColors:i[17]}});let C=(i[7]||i[8])&&Ki(i),D=i[11]&&!i[15]&&$i(i),k=i[13]&&en(i);return{c(){e=De("div"),f&&f.c(),t=te(),q(r.$$.fragment),n=te(),C&&C.c(),l=te(),D&&D.c(),a=te(),k&&k.c(),o=Ne(),this.h()},l(h){e=Fe(h,"DIV",{role:!0,class:!0});var T=Be(e);f&&f.l(T),t=re(T),U(r.$$.fragment,T),n=re(T),C&&C.l(T),l=re(T),D&&D.l(T),T.forEach(O),a=re(h),k&&k.l(h),o=Ne(),this.h()},h(){ae(e,"role","none"),ae(e,"class","chart-container svelte-19r8f8")},m(h,T){p(h,e,T),f&&f.m(e,null),Ke(e,t),V(r,e,null),Ke(e,n),C&&C.m(e,null),Ke(e,l),D&&D.m(e,null),p(h,a,T),k&&k.m(h,T),p(h,o,T),s=!0,d||(u=[Tt(window,"copy",i[26]),Tt(window,"beforeprint",i[27]),Tt(window,"afterprint",i[28]),Tt(window,"export-beforeprint",i[29]),Tt(window,"export-afterprint",i[30]),Tt(e,"mouseenter",i[32]),Tt(e,"mouseleave",i[33])],d=!0)},p(h,T){h[15]?f&&(Me(),E(f,1,1,()=>{f=null}),Ie()):f?(f.p(h,T),T[0]&32768&&A(f,1)):(f=Qi(h),f.c(),A(f,1),f.m(e,t));const M={};T[0]&1&&(M.config=h[0]),T[0]&8&&(M.height=h[3]),T[0]&16&&(M.width=h[4]),T[0]&16384&&(M.copying=h[14]),T[0]&32768&&(M.printing=h[15]),T[0]&512&&(M.echartsOptions=h[9]),T[0]&1024&&(M.seriesOptions=h[10]),T[0]&131072&&(M.seriesColors=h[17]),r.$set(M),h[7]||h[8]?C?(C.p(h,T),T[0]&384&&A(C,1)):(C=Ki(h),C.c(),A(C,1),C.m(e,l)):C&&(Me(),E(C,1,1,()=>{C=null}),Ie()),h[11]&&!h[15]?D?(D.p(h,T),T[0]&34816&&A(D,1)):(D=$i(h),D.c(),A(D,1),D.m(e,null)):D&&(Me(),E(D,1,1,()=>{D=null}),Ie()),h[13]?k?k.p(h,T):(k=en(h),k.c(),k.m(o.parentNode,o)):k&&(k.d(1),k=null)},i(h){s||(A(f),A(r.$$.fragment,h),A(C),A(D),s=!0)},o(h){E(f),E(r.$$.fragment,h),E(C),E(D),s=!1},d(h){h&&(O(e),O(a),O(o)),f&&f.d(),j(r),C&&C.d(),D&&D.d(),k&&k.d(h),d=!1,Ci(u)}}}function Ml(i,e,t){let r;const n=["config","queryID","evidenceChartTitle","height","width","data","renderer","downloadableData","downloadableImage","echartsOptions","seriesOptions","printEchartsConfig","seriesColors","connectGroup"];let l=Hi(e,n),a,o=_e,s=()=>(o(),o=pe(r,W=>t(18,a=W)),r),d,u;i.$$.on_destroy.push(()=>o());const{activeAppearance:f,theme:C,resolveColorsObject:D}=ht();Je(i,f,W=>t(19,d=W)),Je(i,C,W=>t(20,u=W));let{config:k=void 0}=e,{queryID:h=void 0}=e,{evidenceChartTitle:T=void 0}=e,{height:M="291px"}=e,{width:G="100%"}=e,{data:B}=e,{renderer:H=void 0}=e,{downloadableData:S=void 0}=e,{downloadableImage:v=void 0}=e,{echartsOptions:z=void 0}=e,{seriesOptions:Q=void 0}=e,{printEchartsConfig:x}=e,{seriesColors:_=void 0}=e,{connectGroup:F=void 0}=e;const N=In();let I=!1,Y=!1,m=!1,R=!1;const me=()=>{t(14,Y=!0),Dn(),setTimeout(()=>{t(14,Y=!1)},0)},ie=()=>t(15,m=!0),K=()=>t(15,m=!1),ne=()=>t(15,m=!0),J=()=>t(15,m=!1),P=()=>{t(13,I=!0),setTimeout(()=>{t(13,I=!1)},0)},$=()=>t(16,R=!0),ee=()=>t(16,R=!1);return i.$$set=W=>{e=ur(ur({},e),bi(W)),t(24,l=Hi(e,n)),"config"in W&&t(0,k=W.config),"queryID"in W&&t(1,h=W.queryID),"evidenceChartTitle"in W&&t(2,T=W.evidenceChartTitle),"height"in W&&t(3,M=W.height),"width"in W&&t(4,G=W.width),"data"in W&&t(5,B=W.data),"renderer"in W&&t(6,H=W.renderer),"downloadableData"in W&&t(7,S=W.downloadableData),"downloadableImage"in W&&t(8,v=W.downloadableImage),"echartsOptions"in W&&t(9,z=W.echartsOptions),"seriesOptions"in W&&t(10,Q=W.seriesOptions),"printEchartsConfig"in W&&t(11,x=W.printEchartsConfig),"seriesColors"in W&&t(25,_=W.seriesColors),"connectGroup"in W&&t(12,F=W.connectGroup)},i.$$.update=()=>{i.$$.dirty[0]&33554432&&s(t(17,r=D(_)))},[k,h,T,M,G,B,H,S,v,z,Q,x,F,I,Y,m,R,r,a,d,u,f,C,N,l,_,me,ie,K,ne,J,P,$,ee]}class Il extends at{constructor(e){super(),st(this,e,Ml,Ll,lt,{config:0,queryID:1,evidenceChartTitle:2,height:3,width:4,data:5,renderer:6,downloadableData:7,downloadableImage:8,echartsOptions:9,seriesOptions:10,printEchartsConfig:11,seriesColors:25,connectGroup:12},null,[-1,-1])}}function yr(i,e){const t=new Set(i.map(r=>r[e]));return Array.from(t)}function Bl(i,e){return Vt(i,Vn({count:jn(e)}))[0].count}function Dl(i,e,t){let r;if(typeof t!="object")r=Vt(i,Wi(e,ji({xTotal:qi(t)})),di({percentOfX:vi(t,"xTotal")}),Vi({percentOfX:t+"_pct"}));else{r=Vt(i,di({valueSum:0}));for(let n=0;n<r.length;n++){r[n].valueSum=0;for(let l=0;l<t.length;l++)r[n].valueSum=r[n].valueSum+r[n][t[l]]}r=Vt(r,Wi(e,ji({xTotal:qi("valueSum")})));for(let n=0;n<t.length;n++)r=Vt(r,di({percentOfX:vi(t[n],"xTotal")}),Vi({percentOfX:t[n]+"_pct"}))}return r}function gi(i,e,t){return[...i].sort((r,n)=>(r[e]<n[e]?-1:1)*(t?1:-1))}function wn(i,e,t){const r=e+t;return i%r<e?0:1}function Fl(i){let e,t;return e=new Qt({props:{error:i[14],title:i[8]}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&16384&&(l.error=r[14]),n[0]&256&&(l.title=r[8]),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function pl(i){let e,t,r;const n=i[132].default,l=Ar(n,i,i[131],null);return t=new Il({props:{config:i[20],height:i[15],width:i[13],data:i[0],queryID:i[5],evidenceChartTitle:i[7],showAllXAxisLabels:i[6],swapXY:i[2],echartsOptions:i[9],seriesOptions:i[10],printEchartsConfig:i[1],renderer:i[11],downloadableData:i[3],downloadableImage:i[4],connectGroup:i[12],seriesColors:i[16]}}),{c(){l&&l.c(),e=te(),q(t.$$.fragment)},l(a){l&&l.l(a),e=re(a),U(t.$$.fragment,a)},m(a,o){l&&l.m(a,o),p(a,e,o),V(t,a,o),r=!0},p(a,o){l&&l.p&&(!r||o[4]&128)&&kr(l,n,a,a[131],r?Er(n,a[131],o,null):Tr(a[131]),null);const s={};o[0]&1048576&&(s.config=a[20]),o[0]&32768&&(s.height=a[15]),o[0]&8192&&(s.width=a[13]),o[0]&1&&(s.data=a[0]),o[0]&32&&(s.queryID=a[5]),o[0]&128&&(s.evidenceChartTitle=a[7]),o[0]&64&&(s.showAllXAxisLabels=a[6]),o[0]&4&&(s.swapXY=a[2]),o[0]&512&&(s.echartsOptions=a[9]),o[0]&1024&&(s.seriesOptions=a[10]),o[0]&2&&(s.printEchartsConfig=a[1]),o[0]&2048&&(s.renderer=a[11]),o[0]&8&&(s.downloadableData=a[3]),o[0]&16&&(s.downloadableImage=a[4]),o[0]&4096&&(s.connectGroup=a[12]),o[0]&65536&&(s.seriesColors=a[16]),t.$set(s)},i(a){r||(A(l,a),A(t.$$.fragment,a),r=!0)},o(a){E(l,a),E(t.$$.fragment,a),r=!1},d(a){a&&O(e),l&&l.d(a),j(t,a)}}}function Nl(i){let e,t,r,n;const l=[pl,Fl],a=[];function o(s,d){return s[14]?1:0}return e=o(i),t=a[e]=l[e](i),{c(){t.c(),r=Ne()},l(s){t.l(s),r=Ne()},m(s,d){a[e].m(s,d),p(s,r,d),n=!0},p(s,d){let u=e;e=o(s),e===u?a[e].p(s,d):(Me(),E(a[u],1,1,()=>{a[u]=null}),Ie(),t=a[e],t?t.p(s,d):(t=a[e]=l[e](s),t.c()),A(t,1),t.m(r.parentNode,r))},i(s){n||(A(t),n=!0)},o(s){E(t),n=!1},d(s){s&&O(r),a[e].d(s)}}}function Pl(i,e,t){let r,n,l,a,o,s=_e,d=()=>(s(),s=pe(l,b=>t(127,o=b)),l),u,f,C=_e,D=()=>(C(),C=pe(n,b=>t(129,f=b)),n),k,h=_e,T=()=>(h(),h=pe(r,b=>t(130,k=b)),r),M;i.$$.on_destroy.push(()=>s()),i.$$.on_destroy.push(()=>C()),i.$$.on_destroy.push(()=>h());let{$$slots:G={},$$scope:B}=e,H=mr({}),S=mr({});Je(i,S,b=>t(20,M=b));const{theme:v,resolveColor:z,resolveColorsObject:Q,resolveColorPalette:x}=ht();Je(i,v,b=>t(128,u=b));let{data:_=void 0}=e,{queryID:F=void 0}=e,{x:N=void 0}=e,{y:I=void 0}=e,{y2:Y=void 0}=e,{series:m=void 0}=e,{size:R=void 0}=e,{tooltipTitle:me=void 0}=e,{showAllXAxisLabels:ie=!1}=e,{printEchartsConfig:K=!1}=e,ne=!!I,J=!!N,{swapXY:P=!1}=e,{title:$=void 0}=e,{subtitle:ee=void 0}=e,{chartType:W="Chart"}=e,{bubble:fe=!1}=e,{hist:se=!1}=e,{boxplot:y=!1}=e,L,{xType:oe=void 0}=e,{xAxisTitle:de="false"}=e,{xBaseline:he=!0}=e,{xTickMarks:ue=!1}=e,{xGridlines:ce=!1}=e,{xAxisLabels:ye=!0}=e,{sort:be=!0}=e,{xFmt:Ce=void 0}=e,{xMin:Ae=void 0}=e,{xMax:le=void 0}=e,{yLog:ge=!1}=e,{yType:Ee=ge===!0?"log":"value"}=e,{yLogBase:Le=10}=e,{yAxisTitle:ke="false"}=e,{yBaseline:Oe=!1}=e,{yTickMarks:Re=!1}=e,{yGridlines:we=!0}=e,{yAxisLabels:w=!0}=e,{yMin:Te=void 0}=e,{yMax:ve=void 0}=e,{yScale:Pe=!1}=e,{yFmt:Ve=void 0}=e,{yAxisColor:Qe="true"}=e,{y2AxisTitle:We="false"}=e,{y2Baseline:c=!1}=e,{y2TickMarks:et=!1}=e,{y2Gridlines:tt=!0}=e,{y2AxisLabels:ot=!0}=e,{y2Min:bt=void 0}=e,{y2Max:Lt=void 0}=e,{y2Scale:ft=!1}=e,{y2Fmt:_t=void 0}=e,{y2AxisColor:Mt="true"}=e,{sizeFmt:St=void 0}=e,{colorPalette:It="default"}=e,{legend:je=void 0}=e,{echartsOptions:Kt=void 0}=e,{seriesOptions:Jt=void 0}=e,{seriesColors:Bt=void 0}=e,{stackType:g=void 0}=e,{stacked100:Zt=!1}=e,{chartAreaHeight:rt}=e,{renderer:Li=void 0}=e,{downloadableData:$t=!0}=e,{downloadableImage:er=!0}=e,{connectGroup:Mi=void 0}=e,Se,wr,Or=[],Dt=[],qr,tr,it,Ur,nt,qe,ut,Rr,Vr,rr,Lr,jr,Mr,Ft,xr,Xr,ir,pt,vr,Qr,Kr,Jr,Zr,$r,ei,ti,ri,ii,ni,Nt,nr,lr,Ir,Br,li,ai,Pt,si,oi,Dr,Ii,fi,Ct=[],Gt=!0,ct=[],ar=[],Ze,Fr,ui,At;return i.$$set=b=>{"data"in b&&t(0,_=b.data),"queryID"in b&&t(5,F=b.queryID),"x"in b&&t(23,N=b.x),"y"in b&&t(24,I=b.y),"y2"in b&&t(47,Y=b.y2),"series"in b&&t(48,m=b.series),"size"in b&&t(49,R=b.size),"tooltipTitle"in b&&t(50,me=b.tooltipTitle),"showAllXAxisLabels"in b&&t(6,ie=b.showAllXAxisLabels),"printEchartsConfig"in b&&t(1,K=b.printEchartsConfig),"swapXY"in b&&t(2,P=b.swapXY),"title"in b&&t(7,$=b.title),"subtitle"in b&&t(51,ee=b.subtitle),"chartType"in b&&t(8,W=b.chartType),"bubble"in b&&t(52,fe=b.bubble),"hist"in b&&t(53,se=b.hist),"boxplot"in b&&t(54,y=b.boxplot),"xType"in b&&t(25,oe=b.xType),"xAxisTitle"in b&&t(26,de=b.xAxisTitle),"xBaseline"in b&&t(27,he=b.xBaseline),"xTickMarks"in b&&t(28,ue=b.xTickMarks),"xGridlines"in b&&t(29,ce=b.xGridlines),"xAxisLabels"in b&&t(30,ye=b.xAxisLabels),"sort"in b&&t(31,be=b.sort),"xFmt"in b&&t(55,Ce=b.xFmt),"xMin"in b&&t(56,Ae=b.xMin),"xMax"in b&&t(57,le=b.xMax),"yLog"in b&&t(32,ge=b.yLog),"yType"in b&&t(58,Ee=b.yType),"yLogBase"in b&&t(59,Le=b.yLogBase),"yAxisTitle"in b&&t(33,ke=b.yAxisTitle),"yBaseline"in b&&t(34,Oe=b.yBaseline),"yTickMarks"in b&&t(35,Re=b.yTickMarks),"yGridlines"in b&&t(36,we=b.yGridlines),"yAxisLabels"in b&&t(37,w=b.yAxisLabels),"yMin"in b&&t(60,Te=b.yMin),"yMax"in b&&t(61,ve=b.yMax),"yScale"in b&&t(38,Pe=b.yScale),"yFmt"in b&&t(62,Ve=b.yFmt),"yAxisColor"in b&&t(63,Qe=b.yAxisColor),"y2AxisTitle"in b&&t(39,We=b.y2AxisTitle),"y2Baseline"in b&&t(40,c=b.y2Baseline),"y2TickMarks"in b&&t(41,et=b.y2TickMarks),"y2Gridlines"in b&&t(42,tt=b.y2Gridlines),"y2AxisLabels"in b&&t(43,ot=b.y2AxisLabels),"y2Min"in b&&t(64,bt=b.y2Min),"y2Max"in b&&t(65,Lt=b.y2Max),"y2Scale"in b&&t(44,ft=b.y2Scale),"y2Fmt"in b&&t(66,_t=b.y2Fmt),"y2AxisColor"in b&&t(67,Mt=b.y2AxisColor),"sizeFmt"in b&&t(68,St=b.sizeFmt),"colorPalette"in b&&t(69,It=b.colorPalette),"legend"in b&&t(45,je=b.legend),"echartsOptions"in b&&t(9,Kt=b.echartsOptions),"seriesOptions"in b&&t(10,Jt=b.seriesOptions),"seriesColors"in b&&t(70,Bt=b.seriesColors),"stackType"in b&&t(71,g=b.stackType),"stacked100"in b&&t(72,Zt=b.stacked100),"chartAreaHeight"in b&&t(46,rt=b.chartAreaHeight),"renderer"in b&&t(11,Li=b.renderer),"downloadableData"in b&&t(3,$t=b.downloadableData),"downloadableImage"in b&&t(4,er=b.downloadableImage),"connectGroup"in b&&t(12,Mi=b.connectGroup),"$$scope"in b&&t(131,B=b.$$scope)},i.$$.update=()=>{var b,Bi,Di,Fi,pi,Ni;if(i.$$.dirty[0]&2&&t(1,K=K==="true"||K===!0),i.$$.dirty[0]&4&&(P==="true"||P===!0?t(2,P=!0):t(2,P=!1)),i.$$.dirty[0]&134217728&&t(27,he=he==="true"||he===!0),i.$$.dirty[0]&268435456&&t(28,ue=ue==="true"||ue===!0),i.$$.dirty[0]&536870912&&t(29,ce=ce==="true"||ce===!0),i.$$.dirty[0]&1073741824&&t(30,ye=ye==="true"||ye===!0),i.$$.dirty[1]&1&&t(31,be=be==="true"||be===!0),i.$$.dirty[1]&2&&t(32,ge=ge==="true"||ge===!0),i.$$.dirty[1]&8&&t(34,Oe=Oe==="true"||Oe===!0),i.$$.dirty[1]&16&&t(35,Re=Re==="true"||Re===!0),i.$$.dirty[1]&32&&t(36,we=we==="true"||we===!0),i.$$.dirty[1]&64&&t(37,w=w==="true"||w===!0),i.$$.dirty[1]&128&&t(38,Pe=Pe==="true"||Pe===!0),i.$$.dirty[2]&2&&T(t(19,r=z(Qe))),i.$$.dirty[1]&512&&t(40,c=c==="true"||c===!0),i.$$.dirty[1]&1024&&t(41,et=et==="true"||et===!0),i.$$.dirty[1]&2048&&t(42,tt=tt==="true"||tt===!0),i.$$.dirty[1]&4096&&t(43,ot=ot==="true"||ot===!0),i.$$.dirty[1]&8192&&t(44,ft=ft==="true"||ft===!0),i.$$.dirty[2]&32&&D(t(18,n=z(Mt))),i.$$.dirty[2]&128&&d(t(17,l=x(It))),i.$$.dirty[2]&256&&t(16,a=Q(Bt)),i.$$.dirty[0]&8&&t(3,$t=$t==="true"||$t===!0),i.$$.dirty[0]&16&&t(4,er=er==="true"||er===!0),i.$$.dirty[0]&2139120005|i.$$.dirty[1]&2147483647|i.$$.dirty[2]&2147483229|i.$$.dirty[3]&2147483647|i.$$.dirty[4]&127)try{if(t(14,Fr=void 0),t(120,Ct=[]),t(79,Dt=[]),t(122,ct=[]),t(123,ar=[]),t(81,tr=[]),t(73,ne=!!I),t(74,J=!!N),Yr(_),t(76,Se=yi(_)),t(77,wr=Object.keys(Se)),J||t(23,N=wr[0]),!ne){t(78,Or=wr.filter(function(Z){return![N,m,R].includes(Z)}));for(let Z=0;Z<Or.length;Z++)t(81,tr=Or[Z]),t(80,qr=Se[tr].type),qr==="number"&&Dt.push(tr);t(24,I=Dt.length>1?Dt:Dt[0])}fe?t(75,L={x:N,y:I,size:R}):se?t(75,L={x:N}):y?t(75,L={}):t(75,L={x:N,y:I});for(let Z in L)L[Z]==null&&Ct.push(Z);if(Ct.length===1)throw Error(new Intl.ListFormat().format(Ct)+" is required");if(Ct.length>1)throw Error(new Intl.ListFormat().format(Ct)+" are required");if(Zt===!0&&I.includes("_pct")&&Gt===!1)if(typeof I=="object"){for(let Z=0;Z<I.length;Z++)t(24,I[Z]=I[Z].replace("_pct",""),I);t(121,Gt=!1)}else t(24,I=I.replace("_pct","")),t(121,Gt=!1);if(N&&ct.push(N),I)if(typeof I=="object")for(t(124,Ze=0);Ze<I.length;t(124,Ze++,Ze))ct.push(I[Ze]);else ct.push(I);if(Y)if(typeof Y=="object")for(t(124,Ze=0);Ze<Y.length;t(124,Ze++,Ze))ct.push(Y[Ze]);else ct.push(Y);if(R&&ct.push(R),m&&ar.push(m),me&&ar.push(me),Yr(_,ct,ar),Zt===!0){if(t(0,_=Dl(_,N,I)),typeof I=="object"){for(let Z=0;Z<I.length;Z++)t(24,I[Z]=I[Z]+"_pct",I);t(121,Gt=!1)}else t(24,I=I+"_pct"),t(121,Gt=!1);t(76,Se=yi(_))}switch(t(82,it=Se[N].type),it){case"number":t(82,it="value");break;case"string":t(82,it="category");break;case"date":t(82,it="time");break;default:break}if(t(25,oe=oe==="category"?"category":it),P&&oe!=="category")throw Error("Horizontal charts do not support a value or time-based x-axis. You can either change your SQL query to output string values or set swapXY=false.");if(P&&Y)throw Error("Horizontal charts do not support a secondary y-axis. You can either set swapXY=false or remove the y2 prop from your chart.");if(P&&t(25,oe="category"),t(83,Ur=it==="value"&&oe==="category"),t(0,_=be?it==="category"?gi(_,I,!1):gi(_,N,!0):_),it==="time"&&t(0,_=gi(_,N,!0)),t(125,ui=yi(_,"array")),t(126,At=ui.filter(Z=>Z.type==="date")),t(126,At=At.map(Z=>Z.id)),At.length>0)for(let Z=0;Z<At.length;Z++)t(0,_=xn(_,At[Z]));Ce?t(84,nt=yt(Ce,(b=Se[N].format)==null?void 0:b.valueType)):t(84,nt=Se[N].format),I?Ve?typeof I=="object"?t(85,qe=yt(Ve,(Bi=Se[I[0]].format)==null?void 0:Bi.valueType)):t(85,qe=yt(Ve,(Di=Se[I].format)==null?void 0:Di.valueType)):typeof I=="object"?t(85,qe=Se[I[0]].format):t(85,qe=Se[I].format):t(85,qe="str"),Y&&(_t?typeof Y=="object"?t(86,ut=yt(_t,(Fi=Se[Y[0]].format)==null?void 0:Fi.valueType)):t(86,ut=yt(_t,(pi=Se[Y].format)==null?void 0:pi.valueType)):typeof Y=="object"?t(86,ut=Se[Y[0]].format):t(86,ut=Se[Y].format)),R&&(St?t(87,Rr=yt(St,(Ni=Se[R].format)==null?void 0:Ni.valueType)):t(87,Rr=Se[R].format)),t(88,Vr=Se[N].columnUnitSummary),I&&(typeof I=="object"?t(89,rr=Se[I[0]].columnUnitSummary):t(89,rr=Se[I].columnUnitSummary)),Y&&(typeof Y=="object"?t(90,Lr=Se[Y[0]].columnUnitSummary):t(90,Lr=Se[Y].columnUnitSummary)),t(26,de=de==="true"?Et(N,nt):de==="false"?"":de),t(33,ke=ke==="true"?typeof I=="object"?"":Et(I,qe):ke==="false"?"":ke),t(39,We=We==="true"?typeof Y=="object"?"":Et(Y,ut):We==="false"?"":We);let zt=typeof I=="object"?I.length:1,Pi=m?Bl(_,m):1,sr=zt*Pi,ci=typeof Y=="object"?Y.length:Y?1:0,mi=sr+ci;if(je!==void 0&&t(45,je=je==="true"||je===!0),t(45,je=je??mi>1),Zt===!0&&ge===!0)throw Error("Log axis cannot be used in a 100% stacked chart");if(g==="stacked"&&mi>1&&ge===!0)throw Error("Log axis cannot be used in a stacked chart");let Yt;if(typeof I=="object"){Yt=Se[I[0]].columnUnitSummary.min;for(let Z=0;Z<I.length;Z++)Se[I[Z]].columnUnitSummary.min<Yt&&(Yt=Se[I[Z]].columnUnitSummary.min)}else I&&(Yt=Se[I].columnUnitSummary.min);if(ge===!0&&Yt<=0&&Yt!==null)throw Error("Log axis cannot display values less than or equal to zero");H.update(Z=>({...Z,data:_,x:N,y:I,y2:Y,series:m,swapXY:P,sort:be,xType:oe,xFormat:nt,yFormat:qe,y2Format:ut,sizeFormat:Rr,xMismatch:Ur,size:R,yMin:Te,y2Min:bt,columnSummary:Se,xAxisTitle:de,yAxisTitle:ke,y2AxisTitle:We,tooltipTitle:me,chartAreaHeight:rt,chartType:W,yCount:zt,y2Count:ci})),t(91,jr=yr(_,N));let Gi;if(P?t(92,Mr={type:Ee,logBase:Le,position:"top",axisLabel:{show:w,hideOverlap:!0,showMaxLabel:!0,formatter(Z){return Gr(Z,qe,rr)},margin:4},min:Te,max:ve,scale:Pe,splitLine:{show:we},axisLine:{show:Oe,onZero:!1},axisTick:{show:Re},boundaryGap:!1,z:2}):t(92,Mr={type:oe,min:Ae,max:le,splitLine:{show:ce},axisLine:{show:he},axisTick:{show:ue},axisLabel:{show:ye,hideOverlap:!0,showMaxLabel:oe==="category"||oe==="value",formatter:oe==="time"||oe==="category"?!1:function(Z){return Gr(Z,nt,Vr)},margin:6},scale:!0,z:2}),P?t(93,Ft={type:oe,inverse:"true",splitLine:{show:ce},axisLine:{show:he},axisTick:{show:ue},axisLabel:{show:ye,hideOverlap:!0},scale:!0,min:Ae,max:le,z:2}):(t(93,Ft={type:Ee,logBase:Le,splitLine:{show:we},axisLine:{show:Oe,onZero:!1},axisTick:{show:Re},axisLabel:{show:w,hideOverlap:!0,margin:4,formatter(Z){return Gr(Z,qe,rr)},color:Y?k==="true"?o[0]:k!=="false"?k:void 0:void 0},name:ke,nameLocation:"end",nameTextStyle:{align:"left",verticalAlign:"top",padding:[0,5,0,0],color:Y?k==="true"?o[0]:k!=="false"?k:void 0:void 0},nameGap:6,min:Te,max:ve,scale:Pe,boundaryGap:["0%","1%"],z:2}),Gi={type:"value",show:!1,alignTicks:!0,splitLine:{show:tt},axisLine:{show:c,onZero:!1},axisTick:{show:et},axisLabel:{show:ot,hideOverlap:!0,margin:4,formatter(Z){return Gr(Z,ut,Lr)},color:f==="true"?o[sr]:f!=="false"?f:void 0},name:We,nameLocation:"end",nameTextStyle:{align:"right",verticalAlign:"top",padding:[0,0,0,5],color:f==="true"?o[sr]:f!=="false"?f:void 0},nameGap:6,min:bt,max:Lt,scale:ft,boundaryGap:["0%","1%"],z:2},t(93,Ft=[Ft,Gi])),rt){if(t(46,rt=Number(rt)),isNaN(rt))throw Error("chartAreaHeight must be a number");if(rt<=0)throw Error("chartAreaHeight must be a positive number")}else t(46,rt=180);t(96,ir=!!$),t(97,pt=!!ee),t(98,vr=je*(m!==null||typeof I=="object"&&I.length>1)),t(99,Qr=ke!==""&&P),t(100,Kr=de!==""&&!P),t(101,Jr=15),t(102,Zr=13),t(103,$r=6*pt),t(104,ei=ir*Jr+pt*Zr+$r*Math.max(ir,pt)),t(105,ti=10),t(106,ri=8),t(107,ii=14),t(108,ni=14),t(109,Nt=15),t(109,Nt=Nt*vr),t(110,nr=7),t(110,nr=nr*Math.max(ir,pt)),t(111,lr=ei+nr),t(112,Ir=lr+Nt+ni*Qr+ti),t(113,Br=Kr*ii+ri),t(117,si=8),t(119,Dr=1),P&&(t(118,oi=jr.length),t(119,Dr=Math.max(1,oi/si))),t(114,li=rt*Dr+Ir+Br),t(115,ai=lr+Nt+7),t(15,Ii=li+"px"),t(13,fi="100%"),t(116,Pt=P?ke:de),Pt!==""&&t(116,Pt=Pt+" â†’"),t(94,xr={id:"horiz-axis-title",type:"text",style:{text:Pt,textAlign:"right",fill:u.colors["base-content-muted"]},cursor:"auto",right:P?"2%":"3%",top:P?ai:null,bottom:P?null:"2%"}),t(95,Xr={title:{text:$,subtext:ee,subtextStyle:{width:fi}},tooltip:{trigger:"axis",formatter(Z){let Ht,Wt,qt,pr;if(mi>1){Wt=Z[0].value[P?1:0],Ht=`<span id="tooltip" style='font-weight: 600;'>${gt(Wt,nt)}</span>`;for(let kt=Z.length-1;kt>=0;kt--)Z[kt].seriesName!=="stackTotal"&&(qt=Z[kt].value[P?0:1],Ht=Ht+`<br> <span style='font-size: 11px;'>${Z[kt].marker} ${Z[kt].seriesName}<span/><span style='float:right; margin-left: 10px; font-size: 12px;'>${gt(qt,wn(Z[kt].componentIndex,zt,ci)===0?qe:ut)}</span>`)}else oe==="value"?(Wt=Z[0].value[P?1:0],qt=Z[0].value[P?0:1],pr=Z[0].seriesName,Ht=`<span id="tooltip" style='font-weight: 600;'>${Et(N,nt)}: </span><span style='float:right; margin-left: 10px;'>${gt(Wt,nt)}</span><br/><span style='font-weight: 600;'>${Et(pr,qe)}: </span><span style='float:right; margin-left: 10px;'>${gt(qt,qe)}</span>`):(Wt=Z[0].value[P?1:0],qt=Z[0].value[P?0:1],pr=Z[0].seriesName,Ht=`<span id="tooltip" style='font-weight: 600;'>${gt(Wt,nt)}</span><br/><span>${Et(pr,qe)}: </span><span style='float:right; margin-left: 10px;'>${gt(qt,qe)}</span>`);return Ht},confine:!0,axisPointer:{type:"shadow"},extraCssText:'box-shadow: 0 3px 6px rgba(0,0,0,.15); box-shadow: 0 2px 4px rgba(0,0,0,.12); z-index: 1; font-feature-settings: "cv02", "tnum";',order:"valueDesc"},legend:{show:je,type:"scroll",top:lr,padding:[0,0,0,0],data:[]},grid:{left:"0.5%",right:P?"4%":"3%",bottom:Br,top:Ir,containLabel:!0},xAxis:Mr,yAxis:Ft,series:[],animation:!0,graphic:xr,color:o}),S.update(()=>Xr)}catch(zt){t(14,Fr=zt.message),console.error("\x1B[31m%s\x1B[0m",`Error in ${W}: ${zt.message}`),H.update(sr=>({...sr,error:Fr}))}i.$$.dirty[0]&1},Si(bn,H),Si(Sn,S),[_,K,P,$t,er,F,ie,$,W,Kt,Jt,Li,Mi,fi,Fr,Ii,a,l,n,r,M,S,v,N,I,oe,de,he,ue,ce,ye,be,ge,ke,Oe,Re,we,w,Pe,We,c,et,tt,ot,ft,je,rt,Y,m,R,me,ee,fe,se,y,Ce,Ae,le,Ee,Le,Te,ve,Ve,Qe,bt,Lt,_t,Mt,St,It,Bt,g,Zt,ne,J,L,Se,wr,Or,Dt,qr,tr,it,Ur,nt,qe,ut,Rr,Vr,rr,Lr,jr,Mr,Ft,xr,Xr,ir,pt,vr,Qr,Kr,Jr,Zr,$r,ei,ti,ri,ii,ni,Nt,nr,lr,Ir,Br,li,ai,Pt,si,oi,Dr,Ct,Gt,ct,ar,Ze,ui,At,o,u,f,k,B,G]}class Gl extends at{constructor(e){super(),st(this,e,Pl,Nl,lt,{data:0,queryID:5,x:23,y:24,y2:47,series:48,size:49,tooltipTitle:50,showAllXAxisLabels:6,printEchartsConfig:1,swapXY:2,title:7,subtitle:51,chartType:8,bubble:52,hist:53,boxplot:54,xType:25,xAxisTitle:26,xBaseline:27,xTickMarks:28,xGridlines:29,xAxisLabels:30,sort:31,xFmt:55,xMin:56,xMax:57,yLog:32,yType:58,yLogBase:59,yAxisTitle:33,yBaseline:34,yTickMarks:35,yGridlines:36,yAxisLabels:37,yMin:60,yMax:61,yScale:38,yFmt:62,yAxisColor:63,y2AxisTitle:39,y2Baseline:40,y2TickMarks:41,y2Gridlines:42,y2AxisLabels:43,y2Min:64,y2Max:65,y2Scale:44,y2Fmt:66,y2AxisColor:67,sizeFmt:68,colorPalette:69,legend:45,echartsOptions:9,seriesOptions:10,seriesColors:70,stackType:71,stacked100:72,chartAreaHeight:46,renderer:11,downloadableData:3,downloadableImage:4,connectGroup:12},null,[-1,-1,-1,-1,-1])}}function zl(i){let e;const t=i[6].default,r=Ar(t,i,i[7],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,l){r&&r.m(n,l),e=!0},p(n,l){r&&r.p&&(!e||l&128)&&kr(r,t,n,n[7],e?Er(t,n[7],l,null):Tr(n[7]),null)},i(n){e||(A(r,n),e=!0)},o(n){E(r,n),e=!1},d(n){r&&r.d(n)}}}function Yl(i){let e,t;const r=[i[4],{data:ze.isQuery(i[10])?Array.from(i[10]):i[10]},{queryID:i[5]}];let n={$$slots:{default:[zl]},$$scope:{ctx:i}};for(let l=0;l<r.length;l+=1)n=ur(n,r[l]);return e=new Gl({props:n}),{c(){q(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,a){V(e,l,a),t=!0},p(l,a){const o=a&1072?Xn(r,[a&16&&vn(l[4]),a&1024&&{data:ze.isQuery(l[10])?Array.from(l[10]):l[10]},a&32&&{queryID:l[5]}]):{};a&128&&(o.$$scope={dirty:a,ctx:l}),e.$set(o)},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function Hl(i){let e,t;return e=new wi({props:{slot:"empty",emptyMessage:i[2],emptySet:i[1],chartType:i[4].chartType,isInitial:i[3]}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n&4&&(l.emptyMessage=r[2]),n&2&&(l.emptySet=r[1]),n&16&&(l.chartType=r[4].chartType),n&8&&(l.isInitial=r[3]),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function Wl(i){let e,t;return e=new Qt({props:{slot:"error",title:i[4].chartType,error:i[10].error.message}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n&16&&(l.title=r[4].chartType),n&1024&&(l.error=r[10].error.message),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function ql(i){let e,t;return e=new Ei({props:{data:i[0],$$slots:{error:[Wl,({loaded:r})=>({10:r}),({loaded:r})=>r?1024:0],empty:[Hl],default:[Yl,({loaded:r})=>({10:r}),({loaded:r})=>r?1024:0]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,[n]){const l={};n&1&&(l.data=r[0]),n&1182&&(l.$$scope={dirty:n,ctx:r}),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function Ul(i,e,t){let r,{$$slots:n={},$$scope:l}=e,{data:a}=e;const o=ze.isQuery(a)?a.hash:void 0;let s=(a==null?void 0:a.hash)===o,{emptySet:d=void 0}=e,{emptyMessage:u=void 0}=e,f=a==null?void 0:a.id;return i.$$set=C=>{t(9,e=ur(ur({},e),bi(C))),"data"in C&&t(0,a=C.data),"emptySet"in C&&t(1,d=C.emptySet),"emptyMessage"in C&&t(2,u=C.emptyMessage),"$$scope"in C&&t(7,l=C.$$scope)},i.$$.update=()=>{i.$$.dirty&1&&t(3,s=(a==null?void 0:a.hash)===o),t(4,r={...Object.fromEntries(Object.entries(e).filter(([,C])=>C!==void 0))})},e=bi(e),[a,d,u,s,r,f,n,l]}class Vl extends at{constructor(e){super(),st(this,e,Ul,ql,lt,{data:0,emptySet:1,emptyMessage:2})}}function jl(i,e,t,r,n,l,a,o,s,d,u=void 0,f=void 0,C=void 0,D=void 0){function k(_,F,N,I){let Y={name:F,data:_,yAxisIndex:N};return Y={...I,...Y},Y}let h,T,M,G=[],B,H,S,v,z;function Q(_,F){const N=[];function I(m){return typeof m>"u"}function Y(m,R){I(m)||(Array.isArray(m)?m.forEach(me=>N.push([me,R])):N.push([m,R]))}return Y(_,0),Y(F,1),N}let x=Q(t,C);if(r!=null&&x.length===1)for(v=yr(i,r),h=0;h<v.length;h++){if(H=i.filter(_=>_[r]===v[h]),n?B=H.map(_=>[_[x[0][0]],o?_[e].toString():_[e]]):B=H.map(_=>[o?_[e].toString():_[e],_[x[0][0]]]),u){let _=H.map(F=>F[u]);B.forEach((F,N)=>F.push(_[N]))}if(f){let _=H.map(F=>F[f]);B.forEach((F,N)=>F.push(_[N]))}S=v[h]??"null",z=x[0][1],M=k(B,S,z,l),G.push(M)}if(r!=null&&x.length>1)for(v=yr(i,r),h=0;h<v.length;h++)for(H=i.filter(_=>_[r]===v[h]),T=0;T<x.length;T++){if(n?B=H.map(_=>[_[x[T][0]],o?_[e].toString():_[e]]):B=H.map(_=>[o?_[e].toString():_[e],_[x[T][0]]]),u){let _=H.map(F=>F[u]);B.forEach((F,N)=>F.push(_[N]))}if(f){let _=H.map(F=>F[f]);B.forEach((F,N)=>F.push(_[N]))}S=(v[h]??"null")+" - "+s[x[T][0]].title,z=x[T][1],M=k(B,S,z,l),G.push(M)}if(r==null&&x.length>1)for(h=0;h<x.length;h++){if(n?B=i.map(_=>[_[x[h][0]],o?_[e].toString():_[e]]):B=i.map(_=>[o?_[e].toString():_[e],_[x[h][0]]]),u){let _=i.map(F=>F[u]);B.forEach((F,N)=>F.push(_[N]))}if(f){let _=i.map(F=>F[f]);B.forEach((F,N)=>F.push(_[N]))}S=s[x[h][0]].title,z=x[h][1],M=k(B,S,z,l),G.push(M)}if(r==null&&x.length===1){if(n?B=i.map(_=>[_[x[0][0]],o?_[e].toString():_[e]]):B=i.map(_=>[o?_[e].toString():_[e],_[x[0][0]]]),u){let _=i.map(F=>F[u]);B.forEach((F,N)=>F.push(_[N]))}if(f){let _=i.map(F=>F[f]);B.forEach((F,N)=>F.push(_[N]))}S=s[x[0][0]].title,z=x[0][1],M=k(B,S,z,l),G.push(M)}return d&&G.sort((_,F)=>d.indexOf(_.name)-d.indexOf(F.name)),D&&G.forEach(_=>{_.name=Qn(_.name,D)}),G}function xl(i){let e=[];for(let t=1;t<i.length;t++)e.push(i[t]-i[t-1]);return e}function On(i,e){return(typeof i!="number"||isNaN(i))&&(i=0),(typeof e!="number"||isNaN(e))&&(e=0),i=Math.abs(i),e=Math.abs(e),e<=.01?i:On(e,i%e)}function Xl(i,e){if(!Array.isArray(i))throw new TypeError("Cannot calculate extent of non-array value.");let t,r;for(const n of i)typeof n=="number"&&(t===void 0?n>=n&&(t=r=n):(t>n&&(t=n),r<n&&(r=n)));return[t,r]}function vl(i,e){let[t,r]=Xl(i);const n=[];let l=t;for(;l<=r;)n.push(Math.round((l+Number.EPSILON)*1e8)/1e8),l+=e;return n}function Ql(i){if(i.length<=1)return;i.sort(function(t,r){return t-r}),i=i.map(function(t){return t*1e8}),i=xl(i);let e=i.reduce((t,r)=>On(t,r))/1e8;return e=Math.round((e+Number.EPSILON)*1e8)/1e8,e}function tn(i,e,t,r,n=!1,l=!1){var D;let a=!1;const o=i.map(k=>Object.assign({},k,{[e]:k[e]instanceof Date?(a=!0,k[e].toISOString()):k[e]})).filter(k=>k[e]!==void 0&&k[e]!==null),s=Array.from(o).reduce((k,h)=>(h[e]instanceof Date&&(h[e]=h[e].toISOString(),a=!0),r?(k[h[r]??"null"]||(k[h[r]??"null"]=[]),k[h[r]??"null"].push(h)):(k.default||(k.default=[]),k.default.push(h)),k),{}),d={};let u;const f=((D=o.find(k=>k&&k[e]!==null&&k[e]!==void 0))==null?void 0:D[e])??null;switch(typeof f){case"object":throw f===null?new Error(`Column '${e}' is entirely null. Column must contain at least one non-null value.`):new Error("Unexpected object property, expected string, date, or number");case"number":if(u=yr(o,e),l){const k=Ql(u);d[e]=vl(u,k)}break;case"string":u=yr(o,e),d[e]=u;break}const C=[];for(const k of Object.values(s)){const h=r?{[r]:null}:{};if(n)if(t instanceof Array)for(let M=0;M<t.length;M++)h[t[M]]=0;else h[t]=0;else if(t instanceof Array)for(let M=0;M<t.length;M++)h[t[M]]=null;else h[t]=null;r&&(d[r]=r);const T=[];Object.keys(d).length===0?T.push(xi([e],h)):T.push(xi(d,h)),C.push(Vt(k,...T))}return a?C.flat().map(k=>({...k,[e]:new Date(k[e])})):C.flat()}function Kl(i,e,t){let r,n,l,a,o,s,d,u,f,C,D,k,h,T,M,G,B=_e,H=()=>(B(),B=pe(r,w=>t(44,G=w)),r),S,v=_e,z=()=>(v(),v=pe(n,w=>t(45,S=w)),n),Q;i.$$.on_destroy.push(()=>B()),i.$$.on_destroy.push(()=>v());let x=hi(bn);Je(i,x,w=>t(46,Q=w));let _=hi(Sn);const{resolveColor:F}=ht();let{y:N=void 0}=e;const I=!!N;let{y2:Y=void 0}=e;const m=!!Y;let{series:R=void 0}=e;const me=!!R;let{options:ie=void 0}=e,{name:K=void 0}=e,{lineColor:ne=void 0}=e,{lineWidth:J=2}=e,{lineType:P="solid"}=e,{lineOpacity:$=void 0}=e,{markers:ee=!1}=e,{markerShape:W="circle"}=e,{markerSize:fe=8}=e,{labels:se=!1}=e,{labelSize:y=11}=e,{labelPosition:L="top"}=e,{labelColor:oe=void 0}=e,{labelFmt:de=void 0}=e,he;de&&(he=yt(de));let{yLabelFmt:ue=void 0}=e,ce;ue&&(ce=yt(ue));let{y2LabelFmt:ye=void 0}=e,be;ye&&(be=yt(ye));let{y2SeriesType:Ce=void 0}=e,{showAllLabels:Ae=!1}=e,{handleMissing:le="gap"}=e,{step:ge=!1}=e,{stepPosition:Ee="end"}=e,{seriesOrder:Le=void 0}=e,{seriesLabelFmt:ke=void 0}=e;const Oe={above:"top",below:"bottom",middle:"inside"},Re={above:"right",below:"left",middle:"inside"};let we=o?"right":"top";return Fn(()=>{_.update(w=>{if(o)w.yAxis={...w.yAxis,...M.xAxis},w.xAxis={...w.xAxis,...M.yAxis};else if(w.yAxis[0]={...w.yAxis[0],...M.yAxis},w.xAxis={...w.xAxis,...M.xAxis},Y&&(w.yAxis[1]={...w.yAxis[1],show:!0},["line","bar","scatter"].includes(Ce)))for(let Te=0;Te<f;Te++)w.series[u+Te].type=Ce;return se&&(w.axisPointer={triggerEmphasis:!1}),w})}),i.$$set=w=>{"y"in w&&t(3,N=w.y),"y2"in w&&t(4,Y=w.y2),"series"in w&&t(5,R=w.series),"options"in w&&t(11,ie=w.options),"name"in w&&t(6,K=w.name),"lineColor"in w&&t(12,ne=w.lineColor),"lineWidth"in w&&t(13,J=w.lineWidth),"lineType"in w&&t(14,P=w.lineType),"lineOpacity"in w&&t(15,$=w.lineOpacity),"markers"in w&&t(7,ee=w.markers),"markerShape"in w&&t(16,W=w.markerShape),"markerSize"in w&&t(17,fe=w.markerSize),"labels"in w&&t(8,se=w.labels),"labelSize"in w&&t(18,y=w.labelSize),"labelPosition"in w&&t(9,L=w.labelPosition),"labelColor"in w&&t(19,oe=w.labelColor),"labelFmt"in w&&t(20,de=w.labelFmt),"yLabelFmt"in w&&t(21,ue=w.yLabelFmt),"y2LabelFmt"in w&&t(22,ye=w.y2LabelFmt),"y2SeriesType"in w&&t(23,Ce=w.y2SeriesType),"showAllLabels"in w&&t(24,Ae=w.showAllLabels),"handleMissing"in w&&t(25,le=w.handleMissing),"step"in w&&t(10,ge=w.step),"stepPosition"in w&&t(26,Ee=w.stepPosition),"seriesOrder"in w&&t(27,Le=w.seriesOrder),"seriesLabelFmt"in w&&t(28,ke=w.seriesLabelFmt)},i.$$.update=()=>{if(i.$$.dirty[0]&4096&&H(t(1,r=F(ne))),i.$$.dirty[0]&128&&t(7,ee=ee==="true"||ee===!0),i.$$.dirty[0]&256&&t(8,se=se==="true"||se===!0),i.$$.dirty[0]&524288&&z(t(0,n=F(oe))),i.$$.dirty[0]&1024&&t(10,ge=ge==="true"||ge===!0),i.$$.dirty[1]&32768&&t(41,l=Q.data),i.$$.dirty[1]&32768&&t(40,a=Q.x),i.$$.dirty[0]&8|i.$$.dirty[1]&32768&&t(3,N=I?N:Q.y),i.$$.dirty[0]&16|i.$$.dirty[1]&32768&&t(4,Y=m?Y:Q.y2),i.$$.dirty[1]&32768&&t(34,o=Q.swapXY),i.$$.dirty[1]&32768&&t(43,s=Q.yFormat),i.$$.dirty[1]&32768&&t(42,d=Q.y2Format),i.$$.dirty[1]&32768&&t(32,u=Q.yCount),i.$$.dirty[1]&32768&&t(33,f=Q.y2Count),i.$$.dirty[1]&32768&&t(35,C=Q.xType),i.$$.dirty[1]&32768&&t(38,D=Q.xMismatch),i.$$.dirty[1]&32768&&t(37,k=Q.columnSummary),i.$$.dirty[0]&32|i.$$.dirty[1]&32768&&t(5,R=me?R:Q.series),i.$$.dirty[0]&104|i.$$.dirty[1]&1600)if(!R&&typeof N!="object")t(6,K=K??Et(N,k[N].title));else try{t(41,l=tn(l,a,N,R))}catch(w){console.warn("Failed to complete data",{e:w}),t(41,l=[])}if(i.$$.dirty[0]&33554472|i.$$.dirty[1]&1536&&le==="zero")try{t(41,l=tn(l,a,N,R,!0))}catch(w){console.warn("Failed to complete data",{e:w}),t(41,l=[])}i.$$.dirty[0]&512|i.$$.dirty[1]&8&&t(9,L=(o?Re[L]:Oe[L])??we),i.$$.dirty[0]&1728571264|i.$$.dirty[1]&30735&&t(39,h={type:"line",label:{show:se,formatter(w){return w.value[o?0:1]===0?"":gt(w.value[o?0:1],[ce??he??s,be??he??d][wn(w.componentIndex,u,f)])},fontSize:y,color:S,position:L,padding:3},labelLayout:{hideOverlap:!Ae},connectNulls:le==="connect",emphasis:{focus:"series",endLabel:{show:!1},lineStyle:{opacity:1,width:3}},lineStyle:{width:parseInt(J),type:P,opacity:$},itemStyle:{color:G,opacity:$},showSymbol:se||ee,symbol:W,symbolSize:se&&!ee?0:fe,step:ge?Ee:!1}),i.$$.dirty[0]&402653304|i.$$.dirty[1]&1992&&t(36,T=jl(l,a,N,R,o,h,K,D,k,Le,void 0,void 0,Y,ke)),i.$$.dirty[1]&32&&_.update(w=>(w.series.push(...T),w.legend.data.push(...T.map(Te=>Te.name.toString())),w)),i.$$.dirty[0]&2048&&ie&&_.update(w=>({...w,...ie})),i.$$.dirty[1]&16&&(M={yAxis:{boundaryGap:["0%","1%"]},xAxis:{boundaryGap:[C==="time"?"2%":"0%","2%"]}})},[n,r,x,N,Y,R,K,ee,se,L,ge,ie,ne,J,P,$,W,fe,y,oe,de,ue,ye,Ce,Ae,le,Ee,Le,ke,he,ce,be,u,f,o,C,T,k,D,h,a,l,d,s,G,S,Q]}class Jl extends at{constructor(e){super(),st(this,e,Kl,null,lt,{y:3,y2:4,series:5,options:11,name:6,lineColor:12,lineWidth:13,lineType:14,lineOpacity:15,markers:7,markerShape:16,markerSize:17,labels:8,labelSize:18,labelPosition:9,labelColor:19,labelFmt:20,yLabelFmt:21,y2LabelFmt:22,y2SeriesType:23,showAllLabels:24,handleMissing:25,step:10,stepPosition:26,seriesOrder:27,seriesLabelFmt:28},null,[-1,-1])}}function Zl(i){let e,t,r;e=new Jl({props:{lineColor:i[70],lineWidth:i[38],lineOpacity:i[37],lineType:i[36],markers:i[40],markerShape:i[41],markerSize:i[42],handleMissing:i[43],step:i[44],stepPosition:i[45],labels:i[47],labelSize:i[48],labelPosition:i[49],labelColor:i[68],labelFmt:i[50],yLabelFmt:i[51],y2LabelFmt:i[52],showAllLabels:i[53],y2SeriesType:i[8],seriesOrder:i[62],seriesLabelFmt:i[64]}});const n=i[77].default,l=Ar(n,i,i[78],null);return{c(){q(e.$$.fragment),t=te(),l&&l.c()},l(a){U(e.$$.fragment,a),t=re(a),l&&l.l(a)},m(a,o){V(e,a,o),p(a,t,o),l&&l.m(a,o),r=!0},p(a,o){const s={};o[2]&256&&(s.lineColor=a[70]),o[1]&128&&(s.lineWidth=a[38]),o[1]&64&&(s.lineOpacity=a[37]),o[1]&32&&(s.lineType=a[36]),o[1]&512&&(s.markers=a[40]),o[1]&1024&&(s.markerShape=a[41]),o[1]&2048&&(s.markerSize=a[42]),o[1]&4096&&(s.handleMissing=a[43]),o[1]&8192&&(s.step=a[44]),o[1]&16384&&(s.stepPosition=a[45]),o[1]&65536&&(s.labels=a[47]),o[1]&131072&&(s.labelSize=a[48]),o[1]&262144&&(s.labelPosition=a[49]),o[2]&64&&(s.labelColor=a[68]),o[1]&524288&&(s.labelFmt=a[50]),o[1]&1048576&&(s.yLabelFmt=a[51]),o[1]&2097152&&(s.y2LabelFmt=a[52]),o[1]&4194304&&(s.showAllLabels=a[53]),o[0]&256&&(s.y2SeriesType=a[8]),o[2]&1&&(s.seriesOrder=a[62]),o[2]&4&&(s.seriesLabelFmt=a[64]),e.$set(s),l&&l.p&&(!r||o[2]&65536)&&kr(l,n,a,a[78],r?Er(n,a[78],o,null):Tr(a[78]),null)},i(a){r||(A(e.$$.fragment,a),A(l,a),r=!0)},o(a){E(e.$$.fragment,a),E(l,a),r=!1},d(a){a&&O(t),j(e,a),l&&l.d(a)}}}function $l(i){let e,t;return e=new Vl({props:{data:i[0],x:i[1],y:i[2],y2:i[3],xFmt:i[10],yFmt:i[9],y2Fmt:i[11],series:i[4],xType:i[5],yLog:i[6],yLogBase:i[7],legend:i[14],xAxisTitle:i[15],yAxisTitle:i[16],y2AxisTitle:i[17],xGridlines:i[18],yGridlines:i[19],y2Gridlines:i[20],xAxisLabels:i[21],yAxisLabels:i[22],y2AxisLabels:i[23],xBaseline:i[24],yBaseline:i[25],y2Baseline:i[26],xTickMarks:i[27],yTickMarks:i[28],y2TickMarks:i[29],yAxisColor:i[67],y2AxisColor:i[66],yMin:i[30],yMax:i[31],yScale:i[32],y2Min:i[33],y2Max:i[34],y2Scale:i[35],title:i[12],subtitle:i[13],chartType:"Line Chart",sort:i[46],chartAreaHeight:i[39],colorPalette:i[69],echartsOptions:i[54],seriesOptions:i[55],printEchartsConfig:i[56],emptySet:i[57],emptyMessage:i[58],renderer:i[59],downloadableData:i[60],downloadableImage:i[61],connectGroup:i[63],seriesColors:i[65],$$slots:{default:[Zl]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&1&&(l.data=r[0]),n[0]&2&&(l.x=r[1]),n[0]&4&&(l.y=r[2]),n[0]&8&&(l.y2=r[3]),n[0]&1024&&(l.xFmt=r[10]),n[0]&512&&(l.yFmt=r[9]),n[0]&2048&&(l.y2Fmt=r[11]),n[0]&16&&(l.series=r[4]),n[0]&32&&(l.xType=r[5]),n[0]&64&&(l.yLog=r[6]),n[0]&128&&(l.yLogBase=r[7]),n[0]&16384&&(l.legend=r[14]),n[0]&32768&&(l.xAxisTitle=r[15]),n[0]&65536&&(l.yAxisTitle=r[16]),n[0]&131072&&(l.y2AxisTitle=r[17]),n[0]&262144&&(l.xGridlines=r[18]),n[0]&524288&&(l.yGridlines=r[19]),n[0]&1048576&&(l.y2Gridlines=r[20]),n[0]&2097152&&(l.xAxisLabels=r[21]),n[0]&4194304&&(l.yAxisLabels=r[22]),n[0]&8388608&&(l.y2AxisLabels=r[23]),n[0]&16777216&&(l.xBaseline=r[24]),n[0]&33554432&&(l.yBaseline=r[25]),n[0]&67108864&&(l.y2Baseline=r[26]),n[0]&134217728&&(l.xTickMarks=r[27]),n[0]&268435456&&(l.yTickMarks=r[28]),n[0]&536870912&&(l.y2TickMarks=r[29]),n[2]&32&&(l.yAxisColor=r[67]),n[2]&16&&(l.y2AxisColor=r[66]),n[0]&1073741824&&(l.yMin=r[30]),n[1]&1&&(l.yMax=r[31]),n[1]&2&&(l.yScale=r[32]),n[1]&4&&(l.y2Min=r[33]),n[1]&8&&(l.y2Max=r[34]),n[1]&16&&(l.y2Scale=r[35]),n[0]&4096&&(l.title=r[12]),n[0]&8192&&(l.subtitle=r[13]),n[1]&32768&&(l.sort=r[46]),n[1]&256&&(l.chartAreaHeight=r[39]),n[2]&128&&(l.colorPalette=r[69]),n[1]&8388608&&(l.echartsOptions=r[54]),n[1]&16777216&&(l.seriesOptions=r[55]),n[1]&33554432&&(l.printEchartsConfig=r[56]),n[1]&67108864&&(l.emptySet=r[57]),n[1]&134217728&&(l.emptyMessage=r[58]),n[1]&268435456&&(l.renderer=r[59]),n[1]&536870912&&(l.downloadableData=r[60]),n[1]&1073741824&&(l.downloadableImage=r[61]),n[2]&2&&(l.connectGroup=r[63]),n[2]&8&&(l.seriesColors=r[65]),n[0]&256|n[1]&8355552|n[2]&65861&&(l.$$scope={dirty:n,ctx:r}),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function ea(i,e,t){let r,n,l,a,o,s,{$$slots:d={},$$scope:u}=e;const{resolveColor:f,resolveColorsObject:C,resolveColorPalette:D}=ht();let{data:k=void 0}=e,{x:h=void 0}=e,{y:T=void 0}=e,{y2:M=void 0}=e,{series:G=void 0}=e,{xType:B=void 0}=e,{yLog:H=void 0}=e,{yLogBase:S=void 0}=e,{y2SeriesType:v=void 0}=e,{yFmt:z=void 0}=e,{xFmt:Q=void 0}=e,{y2Fmt:x=void 0}=e,{title:_=void 0}=e,{subtitle:F=void 0}=e,{legend:N=void 0}=e,{xAxisTitle:I=void 0}=e,{yAxisTitle:Y=M?"true":void 0}=e,{y2AxisTitle:m=M?"true":void 0}=e,{xGridlines:R=void 0}=e,{yGridlines:me=void 0}=e,{y2Gridlines:ie=void 0}=e,{xAxisLabels:K=void 0}=e,{yAxisLabels:ne=void 0}=e,{y2AxisLabels:J=void 0}=e,{xBaseline:P=void 0}=e,{yBaseline:$=void 0}=e,{y2Baseline:ee=void 0}=e,{xTickMarks:W=void 0}=e,{yTickMarks:fe=void 0}=e,{y2TickMarks:se=void 0}=e,{yMin:y=void 0}=e,{yMax:L=void 0}=e,{yScale:oe=void 0}=e,{y2Min:de=void 0}=e,{y2Max:he=void 0}=e,{y2Scale:ue=void 0}=e,{lineColor:ce=void 0}=e,{lineType:ye=void 0}=e,{lineOpacity:be=void 0}=e,{lineWidth:Ce=void 0}=e,{chartAreaHeight:Ae=void 0}=e,{markers:le=void 0}=e,{markerShape:ge=void 0}=e,{markerSize:Ee=void 0}=e,{handleMissing:Le=void 0}=e,{step:ke=void 0}=e,{stepPosition:Oe=void 0}=e,{sort:Re=void 0}=e,{colorPalette:we="default"}=e,{labels:w=void 0}=e,{labelSize:Te=void 0}=e,{labelPosition:ve=void 0}=e,{labelColor:Pe=void 0}=e,{labelFmt:Ve=void 0}=e,{yLabelFmt:Qe=void 0}=e,{y2LabelFmt:We=void 0}=e,{showAllLabels:c=void 0}=e,{yAxisColor:et=void 0}=e,{y2AxisColor:tt=void 0}=e,{echartsOptions:ot=void 0}=e,{seriesOptions:bt=void 0}=e,{printEchartsConfig:Lt=!1}=e,{emptySet:ft=void 0}=e,{emptyMessage:_t=void 0}=e,{renderer:Mt=void 0}=e,{downloadableData:St=void 0}=e,{downloadableImage:It=void 0}=e,{seriesColors:je=void 0}=e,{seriesOrder:Kt=void 0}=e,{connectGroup:Jt=void 0}=e,{seriesLabelFmt:Bt=void 0}=e;return i.$$set=g=>{"data"in g&&t(0,k=g.data),"x"in g&&t(1,h=g.x),"y"in g&&t(2,T=g.y),"y2"in g&&t(3,M=g.y2),"series"in g&&t(4,G=g.series),"xType"in g&&t(5,B=g.xType),"yLog"in g&&t(6,H=g.yLog),"yLogBase"in g&&t(7,S=g.yLogBase),"y2SeriesType"in g&&t(8,v=g.y2SeriesType),"yFmt"in g&&t(9,z=g.yFmt),"xFmt"in g&&t(10,Q=g.xFmt),"y2Fmt"in g&&t(11,x=g.y2Fmt),"title"in g&&t(12,_=g.title),"subtitle"in g&&t(13,F=g.subtitle),"legend"in g&&t(14,N=g.legend),"xAxisTitle"in g&&t(15,I=g.xAxisTitle),"yAxisTitle"in g&&t(16,Y=g.yAxisTitle),"y2AxisTitle"in g&&t(17,m=g.y2AxisTitle),"xGridlines"in g&&t(18,R=g.xGridlines),"yGridlines"in g&&t(19,me=g.yGridlines),"y2Gridlines"in g&&t(20,ie=g.y2Gridlines),"xAxisLabels"in g&&t(21,K=g.xAxisLabels),"yAxisLabels"in g&&t(22,ne=g.yAxisLabels),"y2AxisLabels"in g&&t(23,J=g.y2AxisLabels),"xBaseline"in g&&t(24,P=g.xBaseline),"yBaseline"in g&&t(25,$=g.yBaseline),"y2Baseline"in g&&t(26,ee=g.y2Baseline),"xTickMarks"in g&&t(27,W=g.xTickMarks),"yTickMarks"in g&&t(28,fe=g.yTickMarks),"y2TickMarks"in g&&t(29,se=g.y2TickMarks),"yMin"in g&&t(30,y=g.yMin),"yMax"in g&&t(31,L=g.yMax),"yScale"in g&&t(32,oe=g.yScale),"y2Min"in g&&t(33,de=g.y2Min),"y2Max"in g&&t(34,he=g.y2Max),"y2Scale"in g&&t(35,ue=g.y2Scale),"lineColor"in g&&t(71,ce=g.lineColor),"lineType"in g&&t(36,ye=g.lineType),"lineOpacity"in g&&t(37,be=g.lineOpacity),"lineWidth"in g&&t(38,Ce=g.lineWidth),"chartAreaHeight"in g&&t(39,Ae=g.chartAreaHeight),"markers"in g&&t(40,le=g.markers),"markerShape"in g&&t(41,ge=g.markerShape),"markerSize"in g&&t(42,Ee=g.markerSize),"handleMissing"in g&&t(43,Le=g.handleMissing),"step"in g&&t(44,ke=g.step),"stepPosition"in g&&t(45,Oe=g.stepPosition),"sort"in g&&t(46,Re=g.sort),"colorPalette"in g&&t(72,we=g.colorPalette),"labels"in g&&t(47,w=g.labels),"labelSize"in g&&t(48,Te=g.labelSize),"labelPosition"in g&&t(49,ve=g.labelPosition),"labelColor"in g&&t(73,Pe=g.labelColor),"labelFmt"in g&&t(50,Ve=g.labelFmt),"yLabelFmt"in g&&t(51,Qe=g.yLabelFmt),"y2LabelFmt"in g&&t(52,We=g.y2LabelFmt),"showAllLabels"in g&&t(53,c=g.showAllLabels),"yAxisColor"in g&&t(74,et=g.yAxisColor),"y2AxisColor"in g&&t(75,tt=g.y2AxisColor),"echartsOptions"in g&&t(54,ot=g.echartsOptions),"seriesOptions"in g&&t(55,bt=g.seriesOptions),"printEchartsConfig"in g&&t(56,Lt=g.printEchartsConfig),"emptySet"in g&&t(57,ft=g.emptySet),"emptyMessage"in g&&t(58,_t=g.emptyMessage),"renderer"in g&&t(59,Mt=g.renderer),"downloadableData"in g&&t(60,St=g.downloadableData),"downloadableImage"in g&&t(61,It=g.downloadableImage),"seriesColors"in g&&t(76,je=g.seriesColors),"seriesOrder"in g&&t(62,Kt=g.seriesOrder),"connectGroup"in g&&t(63,Jt=g.connectGroup),"seriesLabelFmt"in g&&t(64,Bt=g.seriesLabelFmt),"$$scope"in g&&t(78,u=g.$$scope)},i.$$.update=()=>{i.$$.dirty[2]&512&&t(70,r=f(ce)),i.$$.dirty[2]&1024&&t(69,n=D(we)),i.$$.dirty[2]&2048&&t(68,l=f(Pe)),i.$$.dirty[2]&4096&&t(67,a=f(et)),i.$$.dirty[2]&8192&&t(66,o=f(tt)),i.$$.dirty[2]&16384&&t(65,s=C(je))},[k,h,T,M,G,B,H,S,v,z,Q,x,_,F,N,I,Y,m,R,me,ie,K,ne,J,P,$,ee,W,fe,se,y,L,oe,de,he,ue,ye,be,Ce,Ae,le,ge,Ee,Le,ke,Oe,Re,w,Te,ve,Ve,Qe,We,c,ot,bt,Lt,ft,_t,Mt,St,It,Kt,Jt,Bt,s,o,a,l,n,r,ce,we,Pe,et,tt,je,d,u]}class Hr extends at{constructor(e){super(),st(this,e,ea,$l,lt,{data:0,x:1,y:2,y2:3,series:4,xType:5,yLog:6,yLogBase:7,y2SeriesType:8,yFmt:9,xFmt:10,y2Fmt:11,title:12,subtitle:13,legend:14,xAxisTitle:15,yAxisTitle:16,y2AxisTitle:17,xGridlines:18,yGridlines:19,y2Gridlines:20,xAxisLabels:21,yAxisLabels:22,y2AxisLabels:23,xBaseline:24,yBaseline:25,y2Baseline:26,xTickMarks:27,yTickMarks:28,y2TickMarks:29,yMin:30,yMax:31,yScale:32,y2Min:33,y2Max:34,y2Scale:35,lineColor:71,lineType:36,lineOpacity:37,lineWidth:38,chartAreaHeight:39,markers:40,markerShape:41,markerSize:42,handleMissing:43,step:44,stepPosition:45,sort:46,colorPalette:72,labels:47,labelSize:48,labelPosition:49,labelColor:73,labelFmt:50,yLabelFmt:51,y2LabelFmt:52,showAllLabels:53,yAxisColor:74,y2AxisColor:75,echartsOptions:54,seriesOptions:55,printEchartsConfig:56,emptySet:57,emptyMessage:58,renderer:59,downloadableData:60,downloadableImage:61,seriesColors:76,seriesOrder:62,connectGroup:63,seriesLabelFmt:64},null,[-1,-1,-1])}}var _r,gr,Xt,vt;class ta{constructor(e,t){dt(this,_r,mr({}));dt(this,gr,Cn());dt(this,Xt);dt(this,vt);mt(this,"subscribe",Ue(this,_r).subscribe);mt(this,"setError",e=>Ue(this,_r).update(t=>({...t,error:e})));mt(this,"clearError",()=>this.setError(void 0));mt(this,"setConfig",async e=>{this.clearError();try{let{data:t,xMin:r,xMax:n,yMin:l,yMax:a,color:o,areaColor:s,labelColor:d,label:u,labelPosition:f,border:C,borderWidth:D,borderColor:k,activeAppearance:h}=e;ze.isQuery(t)&&!t.dataLoaded&&await t.fetch();const T=zr(Ue(this,Xt));if(typeof T>"u")throw new Error("Reference Area cannot be used outside of a chart");T.swapXY&&([r,n,l,a]=[l,a,r,n]),typeof f>"u"&&(T.swapXY?f="topRight":l&&a&&r&&n?f="topLeft":l||a?f="right":f="top"),C&&typeof D>"u"&&(D=1),d=d??o,s=s??(o?An(o).alpha(h==="dark"?.15:.1).css():void 0),k=k??o;const M=[];if(t){Yr(t,[r,n,l,a].filter(S=>typeof S<"u"));for(let S=0;S<t.length;S++)M.push([{name:u?t[S][u]??u:void 0,xAxis:r?t[S][r]:void 0,yAxis:l?t[S][l]:void 0},{xAxis:n?t[S][n]:void 0,yAxis:a?t[S][a]:void 0}])}else M.push([{name:u,xAxis:r,yAxis:l},{xAxis:n,yAxis:a}]);let G;const B=zr(Ue(this,vt)).series;Array.isArray(B)?G=B.find(rn):B&&(G=rn(B)?B:void 0);const H={evidenceSeriesType:"reference_area",id:Ue(this,gr),type:zr(Ue(this,Xt)).chartType==="Bar Chart"?"bar":"line",stack:G==null?void 0:G.stack,animation:!1,silent:!0,markArea:{data:M,emphasis:{disabled:!0},itemStyle:{color:s,opacity:e.opacity,borderWidth:D,borderColor:k,borderType:e.borderType},label:{show:!0,position:ra[f],color:d,padding:e.labelPadding,backgroundColor:e.labelBackgroundColor,borderColor:e.labelBorderColor,borderWidth:e.labelBorderWidth,borderRadius:e.labelBorderRadius,borderType:e.labelBorderType,fontSize:e.fontSize,align:e.align,fontWeight:e.bold?"bold":void 0,fontStyle:e.italic?"italic":void 0}}};Ue(this,vt).update(S=>{S.series||(S.series=[]),Array.isArray(S.series)||(S.series=[S.series]);const v=S.series.findIndex(z=>z.id===Ue(this,gr));return v===-1?S.series.push(H):S.series[v]=H,T.swapXY?Array.isArray(S.yAxis)?S.yAxis.forEach(z=>{z.type==="category"&&(z.axisTick={...z.axisTick,alignWithLabel:!1})}):S.yAxis&&(S.yAxis.axisTick={...S.yAxis.axisTick,alignWithLabel:!1}):Array.isArray(S.xAxis)?S.xAxis.forEach(z=>{z.type==="category"&&(z.axisTick={...z.axisTick,alignWithLabel:!1})}):S.xAxis&&(S.xAxis.axisTick={...S.xAxis.axisTick,alignWithLabel:!1}),S})}catch(t){this.setError(String(t.message))}});or(this,Xt,e),or(this,vt,t)}}_r=new WeakMap,gr=new WeakMap,Xt=new WeakMap,vt=new WeakMap;const ra={topLeft:"insideTopLeft",top:"insideTop",topRight:"insideTopRight",bottomLeft:"insideBottomLeft",bottom:"insideBottom",bottomRight:"insideBottomRight",left:"insideLeft",center:"inside",centre:"inside",right:"insideRight"},rn=i=>i.type==="bar"&&!("evidenceSeriesType"in i);function nn(i){let e,t;const r=i[49].default,n=Ar(r,i,i[51],null);return{c(){e=De("div"),n&&n.c(),this.h()},l(l){e=Fe(l,"DIV",{class:!0});var a=Be(e);n&&n.l(a),a.forEach(O),this.h()},h(){ae(e,"class","invisible")},m(l,a){p(l,e,a),n&&n.m(e,null),i[50](e),t=!0},p(l,a){n&&n.p&&(!t||a[1]&1048576)&&kr(n,r,l,l[51],t?Er(r,l[51],a,null):Tr(l[51]),null)},i(l){t||(A(n,l),t=!0)},o(l){E(n,l),t=!1},d(l){l&&O(e),n&&n.d(l),i[50](null)}}}function ia(i){let e,t;return e=new Ei({props:{data:i[2],$$slots:{skeleton:[sa],error:[aa,({loaded:r})=>({55:r}),({loaded:r})=>[0,r?16777216:0]],empty:[la]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&4&&(l.data=r[2]),n[0]&19|n[1]&17825792&&(l.$$scope={dirty:n,ctx:r}),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function na(i){let e,t;return e=new Qt({props:{error:i[11].error,minHeight:"50px",title:Oi}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&2048&&(l.error=r[11].error),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function la(i){let e,t;return e=new wi({props:{slot:"empty",emptyMessage:i[1],emptySet:i[0],chartType:Oi,isInitial:i[4]}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&2&&(l.emptyMessage=r[1]),n[0]&1&&(l.emptySet=r[0]),n[0]&16&&(l.isInitial=r[4]),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function aa(i){let e,t;return e=new Qt({props:{slot:"error",title:Oi,error:i[55].error.message}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[1]&16777216&&(l.error=r[55].error.message),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function sa(i){let e;return{c(){e=De("div"),this.h()},l(t){e=Fe(t,"DIV",{slot:!0,class:!0}),Be(e).forEach(O),this.h()},h(){ae(e,"slot","skeleton"),ae(e,"class","hidden")},m(t,r){p(t,e,r)},p:_e,d(t){t&&O(e)}}}function oa(i){let e,t,r,n,l,a=i[15].default&&nn(i);const o=[na,ia],s=[];function d(u,f){return u[11].error?0:1}return t=d(i),r=s[t]=o[t](i),{c(){a&&a.c(),e=te(),r.c(),n=Ne()},l(u){a&&a.l(u),e=re(u),r.l(u),n=Ne()},m(u,f){a&&a.m(u,f),p(u,e,f),s[t].m(u,f),p(u,n,f),l=!0},p(u,f){u[15].default?a?(a.p(u,f),f[0]&32768&&A(a,1)):(a=nn(u),a.c(),A(a,1),a.m(e.parentNode,e)):a&&(Me(),E(a,1,1,()=>{a=null}),Ie());let C=t;t=d(u),t===C?s[t].p(u,f):(Me(),E(s[C],1,1,()=>{s[C]=null}),Ie(),r=s[t],r?r.p(u,f):(r=s[t]=o[t](u),r.c()),A(r,1),r.m(n.parentNode,n))},i(u){l||(A(a),A(r),l=!0)},o(u){E(a),E(r),l=!1},d(u){u&&(O(e),O(n)),a&&a.d(u),s[t].d(u)}}}let Oi="Reference Area";function fa(i,e,t){let r,n,l,a,o,s,d,u,f,C=_e,D=()=>(C(),C=pe(s,c=>t(42,f=c)),s),k,h=_e,T=()=>(h(),h=pe(o,c=>t(43,k=c)),o),M,G=_e,B=()=>(G(),G=pe(a,c=>t(44,M=c)),a),H,S=_e,v=()=>(S(),S=pe(l,c=>t(45,H=c)),l),z,Q=_e,x=()=>(Q(),Q=pe(n,c=>t(46,z=c)),n),_,F=_e,N=()=>(F(),F=pe(r,c=>t(47,_=c)),r),I,Y;i.$$.on_destroy.push(()=>C()),i.$$.on_destroy.push(()=>h()),i.$$.on_destroy.push(()=>G()),i.$$.on_destroy.push(()=>S()),i.$$.on_destroy.push(()=>Q()),i.$$.on_destroy.push(()=>F());let{$$slots:m={},$$scope:R}=e;const me=_n(m),{activeAppearance:ie,resolveColor:K}=ht();Je(i,ie,c=>t(41,u=c));let{emptySet:ne=void 0}=e,{emptyMessage:J=void 0}=e,{xMin:P=void 0}=e,{xMax:$=void 0}=e,{yMin:ee=void 0}=e,{yMax:W=void 0}=e,{data:fe=void 0}=e,{label:se=void 0}=e,{color:y="info"}=e,{areaColor:L=void 0}=e,{opacity:oe=1}=e,{border:de=!1}=e,{borderType:he="dashed"}=e,{borderColor:ue=void 0}=e,{borderWidth:ce=void 0}=e,{labelColor:ye=void 0}=e,{labelPadding:be=1}=e,{labelPosition:Ce=void 0}=e,{labelBackgroundColor:Ae=void 0}=e,{labelBorderWidth:le=void 0}=e,{labelBorderRadius:ge=void 0}=e,{labelBorderColor:Ee=void 0}=e,{labelBorderType:Le=void 0}=e,{fontSize:ke=void 0}=e,{align:Oe=void 0}=e,{bold:Re=void 0}=e,{italic:we=void 0}=e,{preserveWhitespace:w=!1}=e,Te;const ve=ze.isQuery(fe)?fe.hash:void 0,Pe=kn();Je(i,Pe,c=>t(48,I=c));const Ve=Tn(),Qe=new ta(Pe,Ve);Je(i,Qe,c=>t(11,Y=c));function We(c){gn[c?"unshift":"push"](()=>{Te=c,t(3,Te)})}return i.$$set=c=>{"emptySet"in c&&t(0,ne=c.emptySet),"emptyMessage"in c&&t(1,J=c.emptyMessage),"xMin"in c&&t(23,P=c.xMin),"xMax"in c&&t(24,$=c.xMax),"yMin"in c&&t(25,ee=c.yMin),"yMax"in c&&t(26,W=c.yMax),"data"in c&&t(2,fe=c.data),"label"in c&&t(16,se=c.label),"color"in c&&t(17,y=c.color),"areaColor"in c&&t(18,L=c.areaColor),"opacity"in c&&t(27,oe=c.opacity),"border"in c&&t(28,de=c.border),"borderType"in c&&t(29,he=c.borderType),"borderColor"in c&&t(19,ue=c.borderColor),"borderWidth"in c&&t(30,ce=c.borderWidth),"labelColor"in c&&t(20,ye=c.labelColor),"labelPadding"in c&&t(31,be=c.labelPadding),"labelPosition"in c&&t(32,Ce=c.labelPosition),"labelBackgroundColor"in c&&t(21,Ae=c.labelBackgroundColor),"labelBorderWidth"in c&&t(33,le=c.labelBorderWidth),"labelBorderRadius"in c&&t(34,ge=c.labelBorderRadius),"labelBorderColor"in c&&t(22,Ee=c.labelBorderColor),"labelBorderType"in c&&t(35,Le=c.labelBorderType),"fontSize"in c&&t(36,ke=c.fontSize),"align"in c&&t(37,Oe=c.align),"bold"in c&&t(38,Re=c.bold),"italic"in c&&t(39,we=c.italic),"preserveWhitespace"in c&&t(40,w=c.preserveWhitespace),"$$scope"in c&&t(51,R=c.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&131072&&t(17,y=$e("ReferenceArea","color",y)),i.$$.dirty[0]&131072&&N(t(10,r=K(y))),i.$$.dirty[0]&262144&&t(18,L=$e("ReferenceArea","areaColor",L)),i.$$.dirty[0]&262144&&x(t(9,n=K(L))),i.$$.dirty[0]&524288&&t(19,ue=$e("ReferenceArea","borderColor",ue)),i.$$.dirty[0]&524288&&v(t(8,l=K(ue))),i.$$.dirty[0]&1048576&&t(20,ye=$e("ReferenceArea","labelColor",ye)),i.$$.dirty[0]&1048576&&B(t(7,a=K(ye))),i.$$.dirty[0]&2097152&&t(21,Ae=$e("ReferenceArea","labelBackgroundColor",Ae)),i.$$.dirty[0]&2097152&&T(t(6,o=K(Ae))),i.$$.dirty[0]&4194304&&t(22,Ee=$e("ReferenceArea","labelBorderColor",Ee)),i.$$.dirty[0]&4194304&&D(t(5,s=K(Ee))),i.$$.dirty[0]&8|i.$$.dirty[1]&512&&Te!=null&&Te.textContent&&(w?t(16,se=Te.textContent):t(16,se=Te.textContent.split(`
`).map(c=>c.trim()).join(`
`))),i.$$.dirty[0]&4&&t(4,d=ze.isQuery(fe)&&fe.hash===ve),i.$$.dirty[0]&2139160580|i.$$.dirty[1]&261631&&Qe.setConfig({xMin:P,xMax:$,yMin:ee,yMax:W,data:fe,label:se,color:_,areaColor:z,opacity:Xe(oe),border:jt(de),borderType:he,borderColor:H,borderWidth:Xe(ce),labelColor:M,labelPadding:Xe(be),labelPosition:Ce,labelBackgroundColor:k,labelBorderColor:f,labelBorderWidth:Xe(le),labelBorderRadius:Xe(ge),labelBorderType:Le,fontSize:Xe(ke),align:Oe,bold:jt(Re),italic:jt(we),activeAppearance:u})},[ne,J,fe,Te,d,s,o,a,l,n,r,Y,ie,Pe,Qe,me,se,y,L,ue,ye,Ae,Ee,P,$,ee,W,oe,de,he,ce,be,Ce,le,ge,Le,ke,Oe,Re,we,w,u,f,k,M,H,z,_,I,m,We,R]}class ln extends at{constructor(e){super(),st(this,e,fa,oa,lt,{emptySet:0,emptyMessage:1,xMin:23,xMax:24,yMin:25,yMax:26,data:2,label:16,color:17,areaColor:18,opacity:27,border:28,borderType:29,borderColor:19,borderWidth:30,labelColor:20,labelPadding:31,labelPosition:32,labelBackgroundColor:21,labelBorderWidth:33,labelBorderRadius:34,labelBorderColor:22,labelBorderType:35,fontSize:36,align:37,bold:38,italic:39,preserveWhitespace:40},null,[-1,-1])}}const ua={aboveEnd:"insideEndTop",aboveStart:"insideStartTop",aboveCenter:"insideMiddleTop",aboveCentre:"insideMiddleTop",belowEnd:"insideEndBottom",belowStart:"insideStartBottom",belowCenter:"insideMiddleBottom",belowCentre:"insideMiddleBottom"};var hr,br,Sr,Cr;class ca{constructor(e,t){dt(this,hr,mr({}));dt(this,br,Cn());dt(this,Sr);dt(this,Cr);mt(this,"subscribe",Ue(this,hr).subscribe);mt(this,"setError",e=>Ue(this,hr).update(t=>({...t,error:e})));mt(this,"clearError",()=>this.setError(void 0));mt(this,"setConfig",async e=>{this.clearError();try{let{data:t,x:r,y:n,x2:l,y2:a,color:o,labelColor:s,lineColor:d,label:u,hideValue:f}=e;ze.isQuery(t)&&!t.dataLoaded&&await t.fetch();const C=zr(Ue(this,Sr));if(typeof C>"u")throw new Error("Reference Line cannot be used outside of a chart");let{xFormat:D,yFormat:k,swapXY:h}=C;h&&([r,n]=[n,r],[l,a]=[a,l],[D,k]=[k,D]);const T={symbol:e.symbolStart,symbolSize:e.symbolStartSize,symbolKeepAspect:!0},M={symbol:e.symbolEnd,symbolSize:e.symbolEndSize,symbolKeepAspect:!0};[T,M].forEach(S=>{S.symbol==="arrow"?S.symbol="path://M0,10 L5,0 L10,10 z":S.symbol==="none"&&(S.symbol=void 0,S.symbolSize=0)}),s=s??o,d=d??o;const G=e.labelPosition?ua[e.labelPosition]:"insideEndTop",B=[];if(typeof t<"u"&&t[Symbol.iterator]&&Yr(t,[r,n,l,a].filter(S=>typeof S<"u")),typeof r<"u"&&typeof n<"u"){if(typeof l>"u"&&typeof a>"u")throw new Error("Either x2 or y2 must be provided when x and y are provided");if(typeof t<"u"&&t[Symbol.iterator])for(let S=0;S<t.length;S++){const v=t[S][r],z=t[S][n],Q=t[S][l||r],x=t[S][a||n],_=u?t[S][u]??u:void 0;B.push([{coord:[v,z],name:_,...T},{coord:[Q,x]}])}else{const S=l||r,v=a||n,z=u;B.push([{coord:[r,n],name:z,...T},{coord:[S,v]}])}}else if(typeof r<"u")if(typeof t<"u"&&t[Symbol.iterator])for(let S=0;S<t.length;S++){const v=t[S][r],z=u?t[S][u]??u:void 0;B.push({xAxis:v,name:z,...T})}else{const S=u;B.push({xAxis:r,name:S,...T})}else if(typeof n<"u")if(typeof t<"u"&&t[Symbol.iterator])for(let S=0;S<t.length;S++){const v=t[S][n],z=u?t[S][u]??u:void 0;B.push({yAxis:v,name:z,...T})}else{const S=u;B.push({yAxis:n,name:S,...T})}else throw new Error("Either x or y must be provided when data is provided");const H={evidenceSeriesType:"reference_line",id:Ue(this,br),type:"line",animation:!1,silent:!0,markLine:{data:B,animation:!1,...M,emphasis:{disabled:!0},label:{show:!0,position:G,color:s,backgroundColor:e.labelBackgroundColor,borderColor:e.labelBorderColor,borderWidth:e.labelBorderWidth,borderRadius:e.labelBorderRadius,borderType:e.labelBorderType,padding:e.labelPadding,fontSize:e.fontSize,align:e.align,fontWeight:e.bold?"bold":void 0,fontStyle:e.italic?"italic":void 0,formatter:S=>{const v=S.name;let z="";const{xAxis:Q,yAxis:x}=S.data,_=typeof n<"u",F=typeof r<"u",N=_&&F,I=gt(_?x:F?Q:S.value,_?k:F?D:"string");return v?(z+=v,!f&&!N&&(z+=` (${I})`)):f||(z+=I),z}},lineStyle:{color:d,width:e.lineWidth,type:e.lineType}}};Ue(this,Cr).update(S=>{S.series||(S.series=[]),Array.isArray(S.series)||(S.series=[S.series]);const v=S.series.findIndex(z=>z.id===Ue(this,br));return v===-1?S.series.push(H):S.series[v]=H,S})}catch(t){this.setError(String(t.message))}});or(this,Sr,e),or(this,Cr,t)}}hr=new WeakMap,br=new WeakMap,Sr=new WeakMap,Cr=new WeakMap;function an(i){let e,t;const r=i[51].default,n=Ar(r,i,i[53],null);return{c(){e=De("div"),n&&n.c(),this.h()},l(l){e=Fe(l,"DIV",{class:!0});var a=Be(e);n&&n.l(a),a.forEach(O),this.h()},h(){ae(e,"class","invisible")},m(l,a){p(l,e,a),n&&n.m(e,null),i[52](e),t=!0},p(l,a){n&&n.p&&(!t||a[1]&4194304)&&kr(n,r,l,l[53],t?Er(r,l[53],a,null):Tr(l[53]),null)},i(l){t||(A(n,l),t=!0)},o(l){E(n,l),t=!1},d(l){l&&O(e),n&&n.d(l),i[52](null)}}}function ma(i){let e,t;return e=new Ei({props:{data:i[2],$$slots:{skeleton:[ga],error:[_a,({loaded:r})=>({57:r}),({loaded:r})=>[0,r?67108864:0]],empty:[ya]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&4&&(l.data=r[2]),n[0]&19|n[1]&71303168&&(l.$$scope={dirty:n,ctx:r}),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function da(i){let e,t;return e=new Qt({props:{error:i[10].error,minHeight:"50px",title:Ri}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&1024&&(l.error=r[10].error),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function ya(i){let e,t;return e=new wi({props:{slot:"empty",emptyMessage:i[1],emptySet:i[0],chartType:Ri,isInitial:i[4]}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&2&&(l.emptyMessage=r[1]),n[0]&1&&(l.emptySet=r[0]),n[0]&16&&(l.isInitial=r[4]),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function _a(i){let e,t;return e=new Qt({props:{slot:"error",title:Ri,error:i[57].error.message}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[1]&67108864&&(l.error=r[57].error.message),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function ga(i){let e;return{c(){e=De("div"),this.h()},l(t){e=Fe(t,"DIV",{slot:!0,class:!0}),Be(e).forEach(O),this.h()},h(){ae(e,"slot","skeleton"),ae(e,"class","hidden")},m(t,r){p(t,e,r)},p:_e,d(t){t&&O(e)}}}function ha(i){let e,t,r,n,l,a=i[14].default&&an(i);const o=[da,ma],s=[];function d(u,f){return u[10].error?0:1}return t=d(i),r=s[t]=o[t](i),{c(){a&&a.c(),e=te(),r.c(),n=Ne()},l(u){a&&a.l(u),e=re(u),r.l(u),n=Ne()},m(u,f){a&&a.m(u,f),p(u,e,f),s[t].m(u,f),p(u,n,f),l=!0},p(u,f){u[14].default?a?(a.p(u,f),f[0]&16384&&A(a,1)):(a=an(u),a.c(),A(a,1),a.m(e.parentNode,e)):a&&(Me(),E(a,1,1,()=>{a=null}),Ie());let C=t;t=d(u),t===C?s[t].p(u,f):(Me(),E(s[C],1,1,()=>{s[C]=null}),Ie(),r=s[t],r?r.p(u,f):(r=s[t]=o[t](u),r.c()),A(r,1),r.m(n.parentNode,n))},i(u){l||(A(a),A(r),l=!0)},o(u){E(a),E(r),l=!1},d(u){u&&(O(e),O(n)),a&&a.d(u),s[t].d(u)}}}let Ri="Reference Line";function ba(i,e,t){let r,n,l,a,o,s,d,u=_e,f=()=>(u(),u=pe(o,c=>t(44,d=c)),o),C,D,k=_e,h=()=>(k(),k=pe(a,c=>t(46,D=c)),a),T,M=_e,G=()=>(M(),M=pe(l,c=>t(47,T=c)),l),B,H=_e,S=()=>(H(),H=pe(n,c=>t(48,B=c)),n),v,z=_e,Q=()=>(z(),z=pe(r,c=>t(49,v=c)),r),x,_;i.$$.on_destroy.push(()=>u()),i.$$.on_destroy.push(()=>k()),i.$$.on_destroy.push(()=>M()),i.$$.on_destroy.push(()=>H()),i.$$.on_destroy.push(()=>z());let{$$slots:F={},$$scope:N}=e;const I=_n(F),{resolveColor:Y}=ht();let{emptySet:m=void 0}=e,{emptyMessage:R=void 0}=e,{x:me=void 0}=e,{y:ie=void 0}=e,{x2:K=void 0}=e,{y2:ne=void 0}=e,{data:J=void 0}=e,{label:P=void 0}=e,{color:$="grey"}=e,{lineType:ee="dashed"}=e,{lineColor:W=void 0}=e,{lineWidth:fe=1.3}=e,{hideValue:se=!1}=e,{symbol:y=void 0}=e,{symbolSize:L=8}=e,{symbolStart:oe=void 0}=e,{symbolStartSize:de=8}=e,{symbolEnd:he=void 0}=e,{symbolEndSize:ue=void 0}=e,{labelColor:ce=void 0}=e,{labelPadding:ye=1}=e,{labelPosition:be="aboveEnd"}=e,{labelBackgroundColor:Ce=void 0}=e,{labelBorderWidth:Ae=void 0}=e,{labelBorderRadius:le=1.5}=e,{labelBorderColor:ge=void 0}=e,{labelBorderType:Ee=void 0}=e,{fontSize:Le=void 0}=e,{align:ke=void 0}=e,{bold:Oe=void 0}=e,{italic:Re=void 0}=e,{preserveWhitespace:we=!1}=e,w;const Te=ze.isQuery(J)?J.hash:void 0,ve=kn();Je(i,ve,c=>t(50,x=c));const Pe=Tn(),Ve=new ca(ve,Pe);Je(i,Ve,c=>t(10,_=c));const{theme:Qe}=ht();Je(i,Qe,c=>t(45,C=c));function We(c){gn[c?"unshift":"push"](()=>{w=c,t(3,w)})}return i.$$set=c=>{"emptySet"in c&&t(0,m=c.emptySet),"emptyMessage"in c&&t(1,R=c.emptyMessage),"x"in c&&t(21,me=c.x),"y"in c&&t(22,ie=c.y),"x2"in c&&t(23,K=c.x2),"y2"in c&&t(24,ne=c.y2),"data"in c&&t(2,J=c.data),"label"in c&&t(15,P=c.label),"color"in c&&t(16,$=c.color),"lineType"in c&&t(25,ee=c.lineType),"lineColor"in c&&t(17,W=c.lineColor),"lineWidth"in c&&t(26,fe=c.lineWidth),"hideValue"in c&&t(27,se=c.hideValue),"symbol"in c&&t(28,y=c.symbol),"symbolSize"in c&&t(29,L=c.symbolSize),"symbolStart"in c&&t(30,oe=c.symbolStart),"symbolStartSize"in c&&t(31,de=c.symbolStartSize),"symbolEnd"in c&&t(32,he=c.symbolEnd),"symbolEndSize"in c&&t(33,ue=c.symbolEndSize),"labelColor"in c&&t(18,ce=c.labelColor),"labelPadding"in c&&t(34,ye=c.labelPadding),"labelPosition"in c&&t(35,be=c.labelPosition),"labelBackgroundColor"in c&&t(19,Ce=c.labelBackgroundColor),"labelBorderWidth"in c&&t(36,Ae=c.labelBorderWidth),"labelBorderRadius"in c&&t(37,le=c.labelBorderRadius),"labelBorderColor"in c&&t(20,ge=c.labelBorderColor),"labelBorderType"in c&&t(38,Ee=c.labelBorderType),"fontSize"in c&&t(39,Le=c.fontSize),"align"in c&&t(40,ke=c.align),"bold"in c&&t(41,Oe=c.bold),"italic"in c&&t(42,Re=c.italic),"preserveWhitespace"in c&&t(43,we=c.preserveWhitespace),"$$scope"in c&&t(53,N=c.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&65536&&t(16,$=$e("ReferenceLine","color",$)),i.$$.dirty[0]&65536&&Q(t(9,r=Y($))),i.$$.dirty[0]&131072&&t(17,W=$e("ReferenceLine","lineColor",W)),i.$$.dirty[0]&131072&&S(t(8,n=Y(W))),i.$$.dirty[0]&262144&&t(18,ce=$e("ReferenceLine","labelColor",ce)),i.$$.dirty[0]&262144&&G(t(7,l=Y(ce))),i.$$.dirty[0]&524288&&t(19,Ce=$e("ReferenceLine","labelBackgroundColor",Ce)),i.$$.dirty[0]&524288&&h(t(6,a=Y(Ce))),i.$$.dirty[0]&1048576&&t(20,ge=$e("ReferenceLine","labelBorderColor",ge)),i.$$.dirty[0]&1048576&&f(t(5,o=Y(ge))),i.$$.dirty[0]&8|i.$$.dirty[1]&4096&&w!=null&&w.textContent&&(we?t(15,P=w.textContent):t(15,P=w.textContent.split(`
`).map(c=>c.trim()).join(`
`))),i.$$.dirty[0]&4&&t(4,s=ze.isQuery(J)&&J.hash===Te),i.$$.dirty[0]&2145419268|i.$$.dirty[1]&1044479&&Ve.setConfig({x:me,y:ie,x2:K,y2:ne,data:J,label:P,color:v,symbolStart:oe??"none",symbolStartSize:Xe(de),symbolEnd:he??y??"none",symbolEndSize:ue?Xe(ue):Xe(L),lineType:ee,lineColor:B,lineWidth:Xe(fe),labelColor:T,labelPadding:Xe(ye),labelPosition:be,labelBackgroundColor:D??An(C.colors["base-100"]).alpha(.8).css(),labelBorderColor:d,labelBorderWidth:Xe(Ae),labelBorderRadius:Xe(le),labelBorderType:Ee,hideValue:jt(se),fontSize:Xe(Le),align:ke,bold:jt(Oe),italic:jt(Re)})},[m,R,J,w,s,o,a,l,n,r,_,ve,Ve,Qe,I,P,$,W,ce,Ce,ge,me,ie,K,ne,ee,fe,se,y,L,oe,de,he,ue,ye,be,Ae,le,Ee,Le,ke,Oe,Re,we,d,C,D,T,B,v,x,F,We,N]}class Wr extends at{constructor(e){super(),st(this,e,ba,ha,lt,{emptySet:0,emptyMessage:1,x:21,y:22,x2:23,y2:24,data:2,label:15,color:16,lineType:25,lineColor:17,lineWidth:26,hideValue:27,symbol:28,symbolSize:29,symbolStart:30,symbolStartSize:31,symbolEnd:32,symbolEndSize:33,labelColor:18,labelPadding:34,labelPosition:35,labelBackgroundColor:19,labelBorderWidth:36,labelBorderRadius:37,labelBorderColor:20,labelBorderType:38,fontSize:39,align:40,bold:41,italic:42,preserveWhitespace:43},null,[-1,-1])}}function Sa(i){return{c(){this.h()},l(e){this.h()},h(){document.title="Evidence"},m:_e,p:_e,d:_e}}function sn(i){let e,t;return e=new Rt({props:{queryID:"start_year",queryResult:i[1]}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&2&&(l.queryResult=r[1]),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function on(i){let e,t;return e=new Rt({props:{queryID:"end_year",queryResult:i[2]}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&4&&(l.queryResult=r[2]),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function fn(i){let e,t;return e=new Rt({props:{queryID:"category",queryResult:i[3]}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&8&&(l.queryResult=r[3]),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function un(i){let e,t;return e=new Rt({props:{queryID:"pay_offs",queryResult:i[4]}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&16&&(l.queryResult=r[4]),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function cn(i){let e,t;return e=new Rt({props:{queryID:"sectors",queryResult:i[5]}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&32&&(l.queryResult=r[5]),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function mn(i){let e,t;return e=new Rt({props:{queryID:"sector_by_year",queryResult:i[6]}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&64&&(l.queryResult=r[6]),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function dn(i){let e,t;return e=new Rt({props:{queryID:"output",queryResult:i[7]}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&128&&(l.queryResult=r[7]),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function Ca(i){let e,t,r,n,l,a,o,s,d,u;return e=new fr({props:{id:"sector"}}),r=new fr({props:{id:"iv_data",title:"Intrinsic value",contentType:"sparkarea",sparkX:"year",sparkY:"iv",sparkColor:"#45c4d3",colGroup:"Performance"}}),l=new fr({props:{id:"market_cap_data",title:"Market cap",contentType:"sparkarea",sparkX:"year",sparkY:"market_cap",sparkColor:"#fcd031",colGroup:"Perception"}}),o=new fr({props:{id:"dp_data",title:"Discount/Premium",contentType:"sparkarea",sparkX:"year",sparkY:"dp",sparkColor:"#fe4a49",colGroup:"Pay off"}}),d=new fr({props:{id:"tsr_data",title:"TSR",contentType:"sparkarea",sparkX:"year",sparkY:"tsr",sparkColor:"#50c778",colGroup:"Pay off"}}),{c(){q(e.$$.fragment),t=te(),q(r.$$.fragment),n=te(),q(l.$$.fragment),a=te(),q(o.$$.fragment),s=te(),q(d.$$.fragment)},l(f){U(e.$$.fragment,f),t=re(f),U(r.$$.fragment,f),n=re(f),U(l.$$.fragment,f),a=re(f),U(o.$$.fragment,f),s=re(f),U(d.$$.fragment,f)},m(f,C){V(e,f,C),p(f,t,C),V(r,f,C),p(f,n,C),V(l,f,C),p(f,a,C),V(o,f,C),p(f,s,C),V(d,f,C),u=!0},p:_e,i(f){u||(A(e.$$.fragment,f),A(r.$$.fragment,f),A(l.$$.fragment,f),A(o.$$.fragment,f),A(d.$$.fragment,f),u=!0)},o(f){E(e.$$.fragment,f),E(r.$$.fragment,f),E(l.$$.fragment,f),E(o.$$.fragment,f),E(d.$$.fragment,f),u=!1},d(f){f&&(O(t),O(n),O(a),O(s)),j(e,f),j(r,f),j(l,f),j(o,f),j(d,f)}}}function Aa(i){let e,t,r,n;return e=new $n({props:{data:i[7],downloadable:"false",$$slots:{default:[Ca]},$$scope:{ctx:i}}}),r=new Ti({props:{data:i[6]}}),{c(){q(e.$$.fragment),t=te(),q(r.$$.fragment)},l(l){U(e.$$.fragment,l),t=re(l),U(r.$$.fragment,l)},m(l,a){V(e,l,a),p(l,t,a),V(r,l,a),n=!0},p(l,a){const o={};a[0]&128&&(o.data=l[7]),a[1]&8388608&&(o.$$scope={dirty:a,ctx:l}),e.$set(o);const s={};a[0]&64&&(s.data=l[6]),r.$set(s)},i(l){n||(A(e.$$.fragment,l),A(r.$$.fragment,l),n=!0)},o(l){E(e.$$.fragment,l),E(r.$$.fragment,l),n=!1},d(l){l&&O(t),j(e,l),j(r,l)}}}function ka(i){let e,t,r,n,l,a;e=new En({props:{data:i[4],name:"pay_offs",value:"metric_name",defaultValue:"Total shareholder return"}});const o=[Oa,wa],s=[];function d(u,f){return u[0].pay_offs=="Total shareholder return"?0:1}return r=d(i),n=s[r]=o[r](i),{c(){q(e.$$.fragment),t=te(),n.c(),l=Ne()},l(u){U(e.$$.fragment,u),t=re(u),n.l(u),l=Ne()},m(u,f){V(e,u,f),p(u,t,f),s[r].m(u,f),p(u,l,f),a=!0},p(u,f){const C={};f[0]&16&&(C.data=u[4]),e.$set(C);let D=r;r=d(u),r===D?s[r].p(u,f):(Me(),E(s[D],1,1,()=>{s[D]=null}),Ie(),n=s[r],n?n.p(u,f):(n=s[r]=o[r](u),n.c()),A(n,1),n.m(l.parentNode,l))},i(u){a||(A(e.$$.fragment,u),A(n),a=!0)},o(u){E(e.$$.fragment,u),E(n),a=!1},d(u){u&&(O(t),O(l)),j(e,u),s[r].d(u)}}}function Ta(i){let e,t;return e=new Hr({props:{data:i[6],x:"year",y:"Intrinsic value",yFmt:"usd2b",yAxisTitle:"Average Intrinsic Value",series:"sector",$$slots:{default:[Ma]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&64&&(l.data=r[6]),n[1]&8388608&&(l.$$scope={dirty:n,ctx:r}),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function Ea(i){let e,t;return e=new Hr({props:{data:i[6],x:"year",y:"Market capitalization",yFmt:"usd2b",yAxisTitle:"Average Market Capitalization",series:"sector",$$slots:{default:[Ia]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&64&&(l.data=r[6]),n[1]&8388608&&(l.$$scope={dirty:n,ctx:r}),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function wa(i){let e,t;return e=new Hr({props:{data:i[6],x:"year",y:"discount_or_premium",yFmt:"pct",yAxisTitle:"Average Discount/Premium",series:"sector",$$slots:{default:[Ra]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&64&&(l.data=r[6]),n[1]&8388608&&(l.$$scope={dirty:n,ctx:r}),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function Oa(i){let e,t;return e=new Hr({props:{data:i[6],x:"year",y:"cumulative_tsr",yFmt:"pct",yAxisTitle:"Cumulative TSR",series:"sector",$$slots:{default:[La]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const l={};n[0]&64&&(l.data=r[6]),n[1]&8388608&&(l.$$scope={dirty:n,ctx:r}),e.$set(l)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function Ra(i){let e,t,r,n,l,a;return e=new Wr({props:{x:"2022",label:"Launch of ChatGPT",hideValue:"true"}}),r=new ln({props:{yMax:"0",color:"negative",label:"Discount",labelPosition:"bottomRight"}}),l=new ln({props:{yMin:"0",color:"positive",label:"Premium",labelPosition:"topRight"}}),{c(){q(e.$$.fragment),t=te(),q(r.$$.fragment),n=te(),q(l.$$.fragment)},l(o){U(e.$$.fragment,o),t=re(o),U(r.$$.fragment,o),n=re(o),U(l.$$.fragment,o)},m(o,s){V(e,o,s),p(o,t,s),V(r,o,s),p(o,n,s),V(l,o,s),a=!0},p:_e,i(o){a||(A(e.$$.fragment,o),A(r.$$.fragment,o),A(l.$$.fragment,o),a=!0)},o(o){E(e.$$.fragment,o),E(r.$$.fragment,o),E(l.$$.fragment,o),a=!1},d(o){o&&(O(t),O(n)),j(e,o),j(r,o),j(l,o)}}}function La(i){let e,t;return e=new Wr({props:{x:"2022",label:"Launch of ChatGPT",hideValue:"true"}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p:_e,i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function Ma(i){let e,t;return e=new Wr({props:{x:"2022",label:"Launch of ChatGPT",hideValue:"true"}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p:_e,i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function Ia(i){let e,t;return e=new Wr({props:{x:"2022",label:"Launch of ChatGPT",hideValue:"true"}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p:_e,i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function Ba(i){let e;return{c(){e=Ye("Fertilizers and agricultural chemicals, agricultural and farm machinery, agricultural products and services")},l(t){e=He(t,"Fertilizers and agricultural chemicals, agricultural and farm machinery, agricultural products and services")},m(t,r){p(t,e,r)},d(t){t&&O(e)}}}function Da(i){let e;return{c(){e=Ye("Conventional banking services incl. retail banking and small and medium corporate lending, and a diverse range of financial services.")},l(t){e=He(t,"Conventional banking services incl. retail banking and small and medium corporate lending, and a diverse range of financial services.")},m(t,r){p(t,e,r)},d(t){t&&O(e)}}}function Fa(i){let e;return{c(){e=Ye("Manufacturing and distributing companies that are less sensitive to economic cycles (excl., Agricultural products & services). Additionally, distributors and retailers of consumer staples.")},l(t){e=He(t,"Manufacturing and distributing companies that are less sensitive to economic cycles (excl., Agricultural products & services). Additionally, distributors and retailers of consumer staples.")},m(t,r){p(t,e,r)},d(t){t&&O(e)}}}function pa(i){let e;return{c(){e=Ye("Exploration & production, refining & marketing, and storage & transportation of oil & gas, coal & consumables fuels, incl. equipment and services.")},l(t){e=He(t,"Exploration & production, refining & marketing, and storage & transportation of oil & gas, coal & consumables fuels, incl. equipment and services.")},m(t,r){p(t,e,r)},d(t){t&&O(e)}}}function Na(i){let e;return{c(){e=Ye("Conventional banking services incl. retail banking, small and medium corporate lending, and a diverse range of financial services.")},l(t){e=He(t,"Conventional banking services incl. retail banking, small and medium corporate lending, and a diverse range of financial services.")},m(t,r){p(t,e,r)},d(t){t&&O(e)}}}function Pa(i){let e;return{c(){e=Ye("Healthcare providers & services, manufacturers & distributors of healthcare equipment & supplies, healthcare technology companies.")},l(t){e=He(t,"Healthcare providers & services, manufacturers & distributors of healthcare equipment & supplies, healthcare technology companies.")},m(t,r){p(t,e,r)},d(t){t&&O(e)}}}function Ga(i){let e;return{c(){e=Ye("Manufacturers and distributors of capital goods, providers of commercial & professional services. Additionally, companies providing transportation services.")},l(t){e=He(t,"Manufacturers and distributors of capital goods, providers of commercial & professional services. Additionally, companies providing transportation services.")},m(t,r){p(t,e,r)},d(t){t&&O(e)}}}function za(i){let e;return{c(){e=Ye("Companies offering software and information technology services, manufacturers and distributors of technology hardware & equipment.")},l(t){e=He(t,"Companies offering software and information technology services, manufacturers and distributors of technology hardware & equipment.")},m(t,r){p(t,e,r)},d(t){t&&O(e)}}}function Ya(i){let e;return{c(){e=Ye("Companies that manufacture chemicals, construction materials, forest products, glass, paper, and related packaging products.")},l(t){e=He(t,"Companies that manufacture chemicals, construction materials, forest products, glass, paper, and related packaging products.")},m(t,r){p(t,e,r)},d(t){t&&O(e)}}}function Ha(i){let e;return{c(){e=Ye("Includes metals, minerals, and mining companies, and steel producers.")},l(t){e=He(t,"Includes metals, minerals, and mining companies, and steel producers.")},m(t,r){p(t,e,r)},d(t){t&&O(e)}}}function Wa(i){let e;return{c(){e=Ye("Manufacturing and services companies most sensitive to economic cycles, including distributors and retails of the products and services")},l(t){e=He(t,"Manufacturing and services companies most sensitive to economic cycles, including distributors and retails of the products and services")},m(t,r){p(t,e,r)},d(t){t&&O(e)}}}function qa(i){let e;return{c(){e=Ye("Companies involved in real estate development and operation, including companies offering related services and REITS.")},l(t){e=He(t,"Companies involved in real estate development and operation, including companies offering related services and REITS.")},m(t,r){p(t,e,r)},d(t){t&&O(e)}}}function Ua(i){let e;return{c(){e=Ye("Independent power producers and energy traders, and companies that engage in generation and distribution of electricity using renewable sources.")},l(t){e=He(t,"Independent power producers and energy traders, and companies that engage in generation and distribution of electricity using renewable sources.")},m(t,r){p(t,e,r)},d(t){t&&O(e)}}}function Va(i){let e;return{c(){e=Ye("Companies manufacturing and distributing semiconductors and related equipment and materials. Communications Services Companies facilitating communication and offering related content and information through various mediums, including companies engaged in distribution.")},l(t){e=He(t,"Companies manufacturing and distributing semiconductors and related equipment and materials. Communications Services Companies facilitating communication and offering related content and information through various mediums, including companies engaged in distribution.")},m(t,r){p(t,e,r)},d(t){t&&O(e)}}}function ja(i){let e;return{c(){e=Ye("Companies such as electric, gas and water utilities. Insurance Companies involved in insurance activities.")},l(t){e=He(t,"Companies such as electric, gas and water utilities. Insurance Companies involved in insurance activities.")},m(t,r){p(t,e,r)},d(t){t&&O(e)}}}function xa(i){let e,t,r,n,l,a,o,s,d,u,f,C,D,k,h,T,M,G,B,H,S,v,z,Q,x,_,F,N,I,Y;return e=new Ge({props:{title:"Agriculture",open:"true",$$slots:{default:[Ba]},$$scope:{ctx:i}}}),r=new Ge({props:{title:"Banks",open:"true",$$slots:{default:[Da]},$$scope:{ctx:i}}}),l=new Ge({props:{title:"Consumer Staples",open:"true",$$slots:{default:[Fa]},$$scope:{ctx:i}}}),o=new Ge({props:{title:"Energy",open:"true",$$slots:{default:[pa]},$$scope:{ctx:i}}}),d=new Ge({props:{title:"Financial Services",open:"true",$$slots:{default:[Na]},$$scope:{ctx:i}}}),f=new Ge({props:{title:"Healthcare Equip & Services",open:"true",$$slots:{default:[Pa]},$$scope:{ctx:i}}}),D=new Ge({props:{title:"Industrials",open:"true",$$slots:{default:[Ga]},$$scope:{ctx:i}}}),h=new Ge({props:{title:"Information Technology",open:"true",$$slots:{default:[za]},$$scope:{ctx:i}}}),M=new Ge({props:{title:"Materials",open:"true",$$slots:{default:[Ya]},$$scope:{ctx:i}}}),B=new Ge({props:{title:"Metals & Mining",open:"true",$$slots:{default:[Ha]},$$scope:{ctx:i}}}),S=new Ge({props:{title:"Pharmaceuticals & Biotech Consumer Discretionary",open:"true",$$slots:{default:[Wa]},$$scope:{ctx:i}}}),z=new Ge({props:{title:"Real Estate",open:"true",$$slots:{default:[qa]},$$scope:{ctx:i}}}),x=new Ge({props:{title:"Renewable Electricity",open:"true",$$slots:{default:[Ua]},$$scope:{ctx:i}}}),F=new Ge({props:{title:"Semiconductors",open:"true",$$slots:{default:[Va]},$$scope:{ctx:i}}}),I=new Ge({props:{title:"Utilities",open:"true",$$slots:{default:[ja]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment),t=te(),q(r.$$.fragment),n=te(),q(l.$$.fragment),a=te(),q(o.$$.fragment),s=te(),q(d.$$.fragment),u=te(),q(f.$$.fragment),C=te(),q(D.$$.fragment),k=te(),q(h.$$.fragment),T=te(),q(M.$$.fragment),G=te(),q(B.$$.fragment),H=te(),q(S.$$.fragment),v=te(),q(z.$$.fragment),Q=te(),q(x.$$.fragment),_=te(),q(F.$$.fragment),N=te(),q(I.$$.fragment)},l(m){U(e.$$.fragment,m),t=re(m),U(r.$$.fragment,m),n=re(m),U(l.$$.fragment,m),a=re(m),U(o.$$.fragment,m),s=re(m),U(d.$$.fragment,m),u=re(m),U(f.$$.fragment,m),C=re(m),U(D.$$.fragment,m),k=re(m),U(h.$$.fragment,m),T=re(m),U(M.$$.fragment,m),G=re(m),U(B.$$.fragment,m),H=re(m),U(S.$$.fragment,m),v=re(m),U(z.$$.fragment,m),Q=re(m),U(x.$$.fragment,m),_=re(m),U(F.$$.fragment,m),N=re(m),U(I.$$.fragment,m)},m(m,R){V(e,m,R),p(m,t,R),V(r,m,R),p(m,n,R),V(l,m,R),p(m,a,R),V(o,m,R),p(m,s,R),V(d,m,R),p(m,u,R),V(f,m,R),p(m,C,R),V(D,m,R),p(m,k,R),V(h,m,R),p(m,T,R),V(M,m,R),p(m,G,R),V(B,m,R),p(m,H,R),V(S,m,R),p(m,v,R),V(z,m,R),p(m,Q,R),V(x,m,R),p(m,_,R),V(F,m,R),p(m,N,R),V(I,m,R),Y=!0},p(m,R){const me={};R[1]&8388608&&(me.$$scope={dirty:R,ctx:m}),e.$set(me);const ie={};R[1]&8388608&&(ie.$$scope={dirty:R,ctx:m}),r.$set(ie);const K={};R[1]&8388608&&(K.$$scope={dirty:R,ctx:m}),l.$set(K);const ne={};R[1]&8388608&&(ne.$$scope={dirty:R,ctx:m}),o.$set(ne);const J={};R[1]&8388608&&(J.$$scope={dirty:R,ctx:m}),d.$set(J);const P={};R[1]&8388608&&(P.$$scope={dirty:R,ctx:m}),f.$set(P);const $={};R[1]&8388608&&($.$$scope={dirty:R,ctx:m}),D.$set($);const ee={};R[1]&8388608&&(ee.$$scope={dirty:R,ctx:m}),h.$set(ee);const W={};R[1]&8388608&&(W.$$scope={dirty:R,ctx:m}),M.$set(W);const fe={};R[1]&8388608&&(fe.$$scope={dirty:R,ctx:m}),B.$set(fe);const se={};R[1]&8388608&&(se.$$scope={dirty:R,ctx:m}),S.$set(se);const y={};R[1]&8388608&&(y.$$scope={dirty:R,ctx:m}),z.$set(y);const L={};R[1]&8388608&&(L.$$scope={dirty:R,ctx:m}),x.$set(L);const oe={};R[1]&8388608&&(oe.$$scope={dirty:R,ctx:m}),F.$set(oe);const de={};R[1]&8388608&&(de.$$scope={dirty:R,ctx:m}),I.$set(de)},i(m){Y||(A(e.$$.fragment,m),A(r.$$.fragment,m),A(l.$$.fragment,m),A(o.$$.fragment,m),A(d.$$.fragment,m),A(f.$$.fragment,m),A(D.$$.fragment,m),A(h.$$.fragment,m),A(M.$$.fragment,m),A(B.$$.fragment,m),A(S.$$.fragment,m),A(z.$$.fragment,m),A(x.$$.fragment,m),A(F.$$.fragment,m),A(I.$$.fragment,m),Y=!0)},o(m){E(e.$$.fragment,m),E(r.$$.fragment,m),E(l.$$.fragment,m),E(o.$$.fragment,m),E(d.$$.fragment,m),E(f.$$.fragment,m),E(D.$$.fragment,m),E(h.$$.fragment,m),E(M.$$.fragment,m),E(B.$$.fragment,m),E(S.$$.fragment,m),E(z.$$.fragment,m),E(x.$$.fragment,m),E(F.$$.fragment,m),E(I.$$.fragment,m),Y=!1},d(m){m&&(O(t),O(n),O(a),O(s),O(u),O(C),O(k),O(T),O(G),O(H),O(v),O(Q),O(_),O(N)),j(e,m),j(r,m),j(l,m),j(o,m),j(d,m),j(f,m),j(D,m),j(h,m),j(M,m),j(B,m),j(S,m),j(z,m),j(x,m),j(F,m),j(I,m)}}}function Xa(i){let e,t,r,n,l,a,o='<a href="#futureworld-shareholder-value-analytics">Futureworld shareholder value analytics</a>',s,d,u,f,C,D,k,h,T,M,G,B,H,S,v,z,Q,x,_,F,N,I,Y;function m(y,L){return Sa}let me=m()(i),ie=i[1]&&sn(i),K=i[2]&&on(i),ne=i[3]&&fn(i),J=i[4]&&un(i),P=i[5]&&cn(i),$=i[6]&&mn(i),ee=i[7]&&dn(i);T=new _i({props:{data:i[1],name:"start_date",value:"year_str",title:"Start year",defaultValue:"2008.0",label:"year"}}),G=new _i({props:{data:i[2],name:"end_date",value:"year_str",title:"End year",defaultValue:"2024.0",label:"year",order:"year",desc:!0}}),H=new Ge({props:{title:"Data breakdown",$$slots:{default:[Aa]},$$scope:{ctx:i}}}),v=new En({props:{data:i[3],name:"button",value:"metric",label:"category",display:"tabs",defaultValue:"intrinsic_value",color:"#fe4a49"}}),Q=new _i({props:{data:i[5],name:"sector_multi",value:"sector",title:"Select a sector",multiple:"true",defaultValue:["Financial Services","Materials","Metals & Mining","Semiconductors & Semiconductor Equipment","Information Technology"]}});const W=[Ea,Ta,ka],fe=[];function se(y,L){return y[0].button=="market_cap"?0:y[0].button=="intrinsic_value"?1:2}return _=se(i),F=fe[_]=W[_](i),I=new Ge({props:{title:"Sector definitions",$$slots:{default:[xa]},$$scope:{ctx:i}}}),{c(){e=te(),me.c(),t=De("meta"),r=De("meta"),n=Ne(),l=te(),a=De("h1"),a.innerHTML=o,s=te(),ie&&ie.c(),d=te(),K&&K.c(),u=te(),ne&&ne.c(),f=te(),J&&J.c(),C=te(),P&&P.c(),D=te(),$&&$.c(),k=te(),ee&&ee.c(),h=te(),q(T.$$.fragment),M=te(),q(G.$$.fragment),B=te(),q(H.$$.fragment),S=te(),q(v.$$.fragment),z=te(),q(Q.$$.fragment),x=te(),F.c(),N=te(),q(I.$$.fragment),this.h()},l(y){e=re(y);const L=pn("svelte-6lktun",document.head);me.l(L),t=Fe(L,"META",{name:!0,content:!0}),r=Fe(L,"META",{name:!0,content:!0}),n=Ne(),L.forEach(O),l=re(y),a=Fe(y,"H1",{class:!0,id:!0,"data-svelte-h":!0}),yn(a)!=="svelte-1cgzxlf"&&(a.innerHTML=o),s=re(y),ie&&ie.l(y),d=re(y),K&&K.l(y),u=re(y),ne&&ne.l(y),f=re(y),J&&J.l(y),C=re(y),P&&P.l(y),D=re(y),$&&$.l(y),k=re(y),ee&&ee.l(y),h=re(y),U(T.$$.fragment,y),M=re(y),U(G.$$.fragment,y),B=re(y),U(H.$$.fragment,y),S=re(y),U(v.$$.fragment,y),z=re(y),U(Q.$$.fragment,y),x=re(y),F.l(y),N=re(y),U(I.$$.fragment,y),this.h()},h(){ae(t,"name","twitter:card"),ae(t,"content","summary"),ae(r,"name","twitter:site"),ae(r,"content","@evidence_dev"),ae(a,"class","markdown"),ae(a,"id","futureworld-shareholder-value-analytics")},m(y,L){p(y,e,L),me.m(document.head,null),Ke(document.head,t),Ke(document.head,r),Ke(document.head,n),p(y,l,L),p(y,a,L),p(y,s,L),ie&&ie.m(y,L),p(y,d,L),K&&K.m(y,L),p(y,u,L),ne&&ne.m(y,L),p(y,f,L),J&&J.m(y,L),p(y,C,L),P&&P.m(y,L),p(y,D,L),$&&$.m(y,L),p(y,k,L),ee&&ee.m(y,L),p(y,h,L),V(T,y,L),p(y,M,L),V(G,y,L),p(y,B,L),V(H,y,L),p(y,S,L),V(v,y,L),p(y,z,L),V(Q,y,L),p(y,x,L),fe[_].m(y,L),p(y,N,L),V(I,y,L),Y=!0},p(y,L){me.p(y,L),y[1]?ie?(ie.p(y,L),L[0]&2&&A(ie,1)):(ie=sn(y),ie.c(),A(ie,1),ie.m(d.parentNode,d)):ie&&(Me(),E(ie,1,1,()=>{ie=null}),Ie()),y[2]?K?(K.p(y,L),L[0]&4&&A(K,1)):(K=on(y),K.c(),A(K,1),K.m(u.parentNode,u)):K&&(Me(),E(K,1,1,()=>{K=null}),Ie()),y[3]?ne?(ne.p(y,L),L[0]&8&&A(ne,1)):(ne=fn(y),ne.c(),A(ne,1),ne.m(f.parentNode,f)):ne&&(Me(),E(ne,1,1,()=>{ne=null}),Ie()),y[4]?J?(J.p(y,L),L[0]&16&&A(J,1)):(J=un(y),J.c(),A(J,1),J.m(C.parentNode,C)):J&&(Me(),E(J,1,1,()=>{J=null}),Ie()),y[5]?P?(P.p(y,L),L[0]&32&&A(P,1)):(P=cn(y),P.c(),A(P,1),P.m(D.parentNode,D)):P&&(Me(),E(P,1,1,()=>{P=null}),Ie()),y[6]?$?($.p(y,L),L[0]&64&&A($,1)):($=mn(y),$.c(),A($,1),$.m(k.parentNode,k)):$&&(Me(),E($,1,1,()=>{$=null}),Ie()),y[7]?ee?(ee.p(y,L),L[0]&128&&A(ee,1)):(ee=dn(y),ee.c(),A(ee,1),ee.m(h.parentNode,h)):ee&&(Me(),E(ee,1,1,()=>{ee=null}),Ie());const oe={};L[0]&2&&(oe.data=y[1]),T.$set(oe);const de={};L[0]&4&&(de.data=y[2]),G.$set(de);const he={};L[0]&192|L[1]&8388608&&(he.$$scope={dirty:L,ctx:y}),H.$set(he);const ue={};L[0]&8&&(ue.data=y[3]),v.$set(ue);const ce={};L[0]&32&&(ce.data=y[5]),Q.$set(ce);let ye=_;_=se(y),_===ye?fe[_].p(y,L):(Me(),E(fe[ye],1,1,()=>{fe[ye]=null}),Ie(),F=fe[_],F?F.p(y,L):(F=fe[_]=W[_](y),F.c()),A(F,1),F.m(N.parentNode,N));const be={};L[1]&8388608&&(be.$$scope={dirty:L,ctx:y}),I.$set(be)},i(y){Y||(A(ie),A(K),A(ne),A(J),A(P),A($),A(ee),A(T.$$.fragment,y),A(G.$$.fragment,y),A(H.$$.fragment,y),A(v.$$.fragment,y),A(Q.$$.fragment,y),A(F),A(I.$$.fragment,y),Y=!0)},o(y){E(ie),E(K),E(ne),E(J),E(P),E($),E(ee),E(T.$$.fragment,y),E(G.$$.fragment,y),E(H.$$.fragment,y),E(v.$$.fragment,y),E(Q.$$.fragment,y),E(F),E(I.$$.fragment,y),Y=!1},d(y){y&&(O(e),O(l),O(a),O(s),O(d),O(u),O(f),O(C),O(D),O(k),O(h),O(M),O(B),O(S),O(z),O(x),O(N)),me.d(y),O(t),O(r),O(n),ie&&ie.d(y),K&&K.d(y),ne&&ne.d(y),J&&J.d(y),P&&P.d(y),$&&$.d(y),ee&&ee.d(y),j(T,y),j(G,y),j(H,y),j(v,y),j(Q,y),fe[_].d(y),j(I,y)}}}function va(i,e,t){let r,n;Je(i,rl,le=>t(39,r=le)),Je(i,Ui,le=>t(43,n=le));let{data:l}=e,{data:a={},customFormattingSettings:o,__db:s,inputs:d}=l;Nn(Ui,n="3d84f0f6c742aaff94687de6598c5711",n);let u=Kn(mr(d));Pn(u.subscribe(le=>t(0,d=le))),Si(el,{getCustomFormats:()=>o.customFormats||[]});const f=(le,ge)=>tl(s.query,le,{query_name:ge});Jn(f);let C=r.params;Gn(()=>!0);let D={initialData:void 0,initialError:void 0},k=xe`SELECT
    DISTINCT year,
    year::VARCHAR as year_str
FROM
    regions
WHERE year IS NOT NULL
ORDER BY year`,h=`SELECT
    DISTINCT year,
    year::VARCHAR as year_str
FROM
    regions
WHERE year IS NOT NULL
ORDER BY year`;a.start_year_data&&(a.start_year_data instanceof Error?D.initialError=a.start_year_data:D.initialData=a.start_year_data,a.start_year_columns&&(D.knownColumns=a.start_year_columns));let T,M=!1;const G=ze.createReactive({callback:le=>{t(1,T=le)},execFn:f},{id:"start_year",...D});G(h,{noResolve:k,...D}),globalThis[Symbol.for("start_year")]={get value(){return T}};let B={initialData:void 0,initialError:void 0},H=xe`SELECT
    *
FROM
    (SELECT
    DISTINCT year,
    year::VARCHAR as year_str
FROM
    regions
WHERE year IS NOT NULL
ORDER BY year)
WHERE
    year >= CAST(${d.start_date.value} AS INT)`,S=`SELECT
    *
FROM
    (SELECT
    DISTINCT year,
    year::VARCHAR as year_str
FROM
    regions
WHERE year IS NOT NULL
ORDER BY year)
WHERE
    year >= CAST(${d.start_date.value} AS INT)`;a.end_year_data&&(a.end_year_data instanceof Error?B.initialError=a.end_year_data:B.initialData=a.end_year_data,a.end_year_columns&&(B.knownColumns=a.end_year_columns));let v,z=!1;const Q=ze.createReactive({callback:le=>{t(2,v=le)},execFn:f},{id:"end_year",...B});Q(S,{noResolve:H,...B}),globalThis[Symbol.for("end_year")]={get value(){return v}};let x={initialData:void 0,initialError:void 0},_=xe`SELECT
  *
FROM
  (SELECT 
    'market_cap' as metric, 'Perception' as category,  'usd' as unit, 2 as "order"
  UNION ALL
  SELECT 'intrinsic_value', 'Performance', 'usd', 1
  UNION ALL
  SELECT 'tsr', 'Pay off', 'pct', 3)
ORDER BY "order"`,F=`SELECT
  *
FROM
  (SELECT 
    'market_cap' as metric, 'Perception' as category,  'usd' as unit, 2 as "order"
  UNION ALL
  SELECT 'intrinsic_value', 'Performance', 'usd', 1
  UNION ALL
  SELECT 'tsr', 'Pay off', 'pct', 3)
ORDER BY "order"`;a.category_data&&(a.category_data instanceof Error?x.initialError=a.category_data:x.initialData=a.category_data,a.category_columns&&(x.knownColumns=a.category_columns));let N,I=!1;const Y=ze.createReactive({callback:le=>{t(3,N=le)},execFn:f},{id:"category",...x});Y(F,{noResolve:_,...x}),globalThis[Symbol.for("category")]={get value(){return N}};let m={initialData:void 0,initialError:void 0},R=xe`SELECT
  *
FROM
  (SELECT 
    'tsr' as metric, 'Total shareholder return' as metric_name, 1 as "order"
  UNION ALL
  SELECT 'discount_or_premium', 'Discount/Premium', 2)
ORDER BY "order"`,me=`SELECT
  *
FROM
  (SELECT 
    'tsr' as metric, 'Total shareholder return' as metric_name, 1 as "order"
  UNION ALL
  SELECT 'discount_or_premium', 'Discount/Premium', 2)
ORDER BY "order"`;a.pay_offs_data&&(a.pay_offs_data instanceof Error?m.initialError=a.pay_offs_data:m.initialData=a.pay_offs_data,a.pay_offs_columns&&(m.knownColumns=a.pay_offs_columns));let ie,K=!1;const ne=ze.createReactive({callback:le=>{t(4,ie=le)},execFn:f},{id:"pay_offs",...m});ne(me,{noResolve:R,...m}),globalThis[Symbol.for("pay_offs")]={get value(){return ie}};let J={initialData:void 0,initialError:void 0},P=xe`SELECT
    DISTINCT sector
FROM
    regions
WHERE sector IS NOT NULL`,$=`SELECT
    DISTINCT sector
FROM
    regions
WHERE sector IS NOT NULL`;a.sectors_data&&(a.sectors_data instanceof Error?J.initialError=a.sectors_data:J.initialData=a.sectors_data,a.sectors_columns&&(J.knownColumns=a.sectors_columns));let ee,W=!1;const fe=ze.createReactive({callback:le=>{t(5,ee=le)},execFn:f},{id:"sectors",...J});fe($,{noResolve:P,...J}),globalThis[Symbol.for("sectors")]={get value(){return ee}};let se={initialData:void 0,initialError:void 0},y=xe`WITH yearly_metrics AS (
    SELECT
        year,
        region,
        sector,
        avg(market_cap) as 'Market capitalization',
        avg(intrinsic_value) as 'Intrinsic value',
        avg(tsr) as yearly_tsr,
        (avg(market_cap) - avg(intrinsic_value))/ avg(intrinsic_value) as discount_or_premium
    FROM
        regions
    WHERE
        region = '${C.region}'
        AND sector IN ${d.sector_multi.value}
        AND year between ${d.start_date.value}::INT and ${d.end_date.value}::INT
    GROUP BY ALL
),
compound_tsr AS (
    SELECT
        *,
        EXP(SUM(LN(1 + yearly_tsr)) OVER (
            PARTITION BY sector
            ORDER BY year
        )) - 1 as cumulative_tsr
    FROM yearly_metrics
)
SELECT
    year,
    region,
    sector,
    "Market capitalization",
    "Intrinsic value",
    discount_or_premium,
    yearly_tsr,
    cumulative_tsr
FROM
    compound_tsr
ORDER BY
    sector,
    year`,L=`WITH yearly_metrics AS (
    SELECT
        year,
        region,
        sector,
        avg(market_cap) as 'Market capitalization',
        avg(intrinsic_value) as 'Intrinsic value',
        avg(tsr) as yearly_tsr,
        (avg(market_cap) - avg(intrinsic_value))/ avg(intrinsic_value) as discount_or_premium
    FROM
        regions
    WHERE
        region = '${C.region}'
        AND sector IN ${d.sector_multi.value}
        AND year between ${d.start_date.value}::INT and ${d.end_date.value}::INT
    GROUP BY ALL
),
compound_tsr AS (
    SELECT
        *,
        EXP(SUM(LN(1 + yearly_tsr)) OVER (
            PARTITION BY sector
            ORDER BY year
        )) - 1 as cumulative_tsr
    FROM yearly_metrics
)
SELECT
    year,
    region,
    sector,
    "Market capitalization",
    "Intrinsic value",
    discount_or_premium,
    yearly_tsr,
    cumulative_tsr
FROM
    compound_tsr
ORDER BY
    sector,
    year`;a.sector_by_year_data&&(a.sector_by_year_data instanceof Error?se.initialError=a.sector_by_year_data:se.initialData=a.sector_by_year_data,a.sector_by_year_columns&&(se.knownColumns=a.sector_by_year_columns));let oe,de=!1;const he=ze.createReactive({callback:le=>{t(6,oe=le)},execFn:f},{id:"sector_by_year",...se});he(L,{noResolve:y,...se}),globalThis[Symbol.for("sector_by_year")]={get value(){return oe}};let ue={initialData:void 0,initialError:void 0},ce=xe`WITH yearly_market_cap AS (
    SELECT 
        sector,
        MAKE_DATE(year::INT, 1, 1) AS year_date,  -- converting numeric year to date
        AVG("Market capitalization") AS yearly_market_cap,
        AVG("Intrinsic value") AS yearly_iv,
        AVG("discount_or_premium") AS yearly_dp,
        AVG("cumulative_tsr") AS yearly_tsr,
    FROM 
        (WITH yearly_metrics AS (
    SELECT
        year,
        region,
        sector,
        avg(market_cap) as 'Market capitalization',
        avg(intrinsic_value) as 'Intrinsic value',
        avg(tsr) as yearly_tsr,
        (avg(market_cap) - avg(intrinsic_value))/ avg(intrinsic_value) as discount_or_premium
    FROM
        regions
    WHERE
        region = '${C.region}'
        AND sector IN ${d.sector_multi.value}
        AND year between ${d.start_date.value}::INT and ${d.end_date.value}::INT
    GROUP BY ALL
),
compound_tsr AS (
    SELECT
        *,
        EXP(SUM(LN(1 + yearly_tsr)) OVER (
            PARTITION BY sector
            ORDER BY year
        )) - 1 as cumulative_tsr
    FROM yearly_metrics
)
SELECT
    year,
    region,
    sector,
    "Market capitalization",
    "Intrinsic value",
    discount_or_premium,
    yearly_tsr,
    cumulative_tsr
FROM
    compound_tsr
ORDER BY
    sector,
    year)
    GROUP BY 
        sector, year
    ORDER BY year_date desc, yearly_market_cap desc
)
SELECT 
    sector,
    sum(yearly_market_cap) as total_market_cap,
    ARRAY_AGG({'year': year_date, 'market_cap': yearly_market_cap}) AS market_cap_data,
    ARRAY_AGG({'year': year_date, 'iv': yearly_iv}) AS iv_data,
    ARRAY_AGG({'year': year_date, 'dp': yearly_dp}) AS dp_data,
    ARRAY_AGG({'year': year_date, 'tsr': yearly_tsr}) AS tsr_data
FROM 
    yearly_market_cap
GROUP BY 
    sector`,ye=`WITH yearly_market_cap AS (
    SELECT 
        sector,
        MAKE_DATE(year::INT, 1, 1) AS year_date,  -- converting numeric year to date
        AVG("Market capitalization") AS yearly_market_cap,
        AVG("Intrinsic value") AS yearly_iv,
        AVG("discount_or_premium") AS yearly_dp,
        AVG("cumulative_tsr") AS yearly_tsr,
    FROM 
        (WITH yearly_metrics AS (
    SELECT
        year,
        region,
        sector,
        avg(market_cap) as 'Market capitalization',
        avg(intrinsic_value) as 'Intrinsic value',
        avg(tsr) as yearly_tsr,
        (avg(market_cap) - avg(intrinsic_value))/ avg(intrinsic_value) as discount_or_premium
    FROM
        regions
    WHERE
        region = '${C.region}'
        AND sector IN ${d.sector_multi.value}
        AND year between ${d.start_date.value}::INT and ${d.end_date.value}::INT
    GROUP BY ALL
),
compound_tsr AS (
    SELECT
        *,
        EXP(SUM(LN(1 + yearly_tsr)) OVER (
            PARTITION BY sector
            ORDER BY year
        )) - 1 as cumulative_tsr
    FROM yearly_metrics
)
SELECT
    year,
    region,
    sector,
    "Market capitalization",
    "Intrinsic value",
    discount_or_premium,
    yearly_tsr,
    cumulative_tsr
FROM
    compound_tsr
ORDER BY
    sector,
    year)
    GROUP BY 
        sector, year
    ORDER BY year_date desc, yearly_market_cap desc
)
SELECT 
    sector,
    sum(yearly_market_cap) as total_market_cap,
    ARRAY_AGG({'year': year_date, 'market_cap': yearly_market_cap}) AS market_cap_data,
    ARRAY_AGG({'year': year_date, 'iv': yearly_iv}) AS iv_data,
    ARRAY_AGG({'year': year_date, 'dp': yearly_dp}) AS dp_data,
    ARRAY_AGG({'year': year_date, 'tsr': yearly_tsr}) AS tsr_data
FROM 
    yearly_market_cap
GROUP BY 
    sector`;a.output_data&&(a.output_data instanceof Error?ue.initialError=a.output_data:ue.initialData=a.output_data,a.output_columns&&(ue.knownColumns=a.output_columns));let be,Ce=!1;const Ae=ze.createReactive({callback:le=>{t(7,be=le)},execFn:f},{id:"output",...ue});return Ae(ye,{noResolve:ce,...ue}),globalThis[Symbol.for("output")]={get value(){return be}},i.$$set=le=>{"data"in le&&t(8,l=le.data)},i.$$.update=()=>{i.$$.dirty[0]&256&&t(9,{data:a={},customFormattingSettings:o,__db:s}=l,a),i.$$.dirty[0]&512&&Zn.set(Object.keys(a).length>0),i.$$.dirty[1]&256&&t(10,C=r.params),i.$$.dirty[0]&30720&&(k||!M?k||(G(h,{noResolve:k,...D}),t(14,M=!0)):G(h,{noResolve:k})),i.$$.dirty[0]&1&&t(16,H=xe`SELECT
    *
FROM
    (SELECT
    DISTINCT year,
    year::VARCHAR as year_str
FROM
    regions
WHERE year IS NOT NULL
ORDER BY year)
WHERE
    year >= CAST(${d.start_date.value} AS INT)`),i.$$.dirty[0]&1&&t(17,S=`SELECT
    *
FROM
    (SELECT
    DISTINCT year,
    year::VARCHAR as year_str
FROM
    regions
WHERE year IS NOT NULL
ORDER BY year)
WHERE
    year >= CAST(${d.start_date.value} AS INT)`),i.$$.dirty[0]&491520&&(H||!z?H||(Q(S,{noResolve:H,...B}),t(18,z=!0)):Q(S,{noResolve:H})),i.$$.dirty[0]&7864320&&(_||!I?_||(Y(F,{noResolve:_,...x}),t(22,I=!0)):Y(F,{noResolve:_})),i.$$.dirty[0]&125829120&&(R||!K?R||(ne(me,{noResolve:R,...m}),t(26,K=!0)):ne(me,{noResolve:R})),i.$$.dirty[0]&2013265920&&(P||!W?P||(fe($,{noResolve:P,...J}),t(30,W=!0)):fe($,{noResolve:P})),i.$$.dirty[0]&1025&&t(32,y=xe`WITH yearly_metrics AS (
    SELECT
        year,
        region,
        sector,
        avg(market_cap) as 'Market capitalization',
        avg(intrinsic_value) as 'Intrinsic value',
        avg(tsr) as yearly_tsr,
        (avg(market_cap) - avg(intrinsic_value))/ avg(intrinsic_value) as discount_or_premium
    FROM
        regions
    WHERE
        region = '${C.region}'
        AND sector IN ${d.sector_multi.value}
        AND year between ${d.start_date.value}::INT and ${d.end_date.value}::INT
    GROUP BY ALL
),
compound_tsr AS (
    SELECT
        *,
        EXP(SUM(LN(1 + yearly_tsr)) OVER (
            PARTITION BY sector
            ORDER BY year
        )) - 1 as cumulative_tsr
    FROM yearly_metrics
)
SELECT
    year,
    region,
    sector,
    "Market capitalization",
    "Intrinsic value",
    discount_or_premium,
    yearly_tsr,
    cumulative_tsr
FROM
    compound_tsr
ORDER BY
    sector,
    year`),i.$$.dirty[0]&1025&&t(33,L=`WITH yearly_metrics AS (
    SELECT
        year,
        region,
        sector,
        avg(market_cap) as 'Market capitalization',
        avg(intrinsic_value) as 'Intrinsic value',
        avg(tsr) as yearly_tsr,
        (avg(market_cap) - avg(intrinsic_value))/ avg(intrinsic_value) as discount_or_premium
    FROM
        regions
    WHERE
        region = '${C.region}'
        AND sector IN ${d.sector_multi.value}
        AND year between ${d.start_date.value}::INT and ${d.end_date.value}::INT
    GROUP BY ALL
),
compound_tsr AS (
    SELECT
        *,
        EXP(SUM(LN(1 + yearly_tsr)) OVER (
            PARTITION BY sector
            ORDER BY year
        )) - 1 as cumulative_tsr
    FROM yearly_metrics
)
SELECT
    year,
    region,
    sector,
    "Market capitalization",
    "Intrinsic value",
    discount_or_premium,
    yearly_tsr,
    cumulative_tsr
FROM
    compound_tsr
ORDER BY
    sector,
    year`),i.$$.dirty[1]&15&&(y||!de?y||(he(L,{noResolve:y,...se}),t(34,de=!0)):he(L,{noResolve:y})),i.$$.dirty[0]&1025&&t(36,ce=xe`WITH yearly_market_cap AS (
    SELECT 
        sector,
        MAKE_DATE(year::INT, 1, 1) AS year_date,  -- converting numeric year to date
        AVG("Market capitalization") AS yearly_market_cap,
        AVG("Intrinsic value") AS yearly_iv,
        AVG("discount_or_premium") AS yearly_dp,
        AVG("cumulative_tsr") AS yearly_tsr,
    FROM 
        (WITH yearly_metrics AS (
    SELECT
        year,
        region,
        sector,
        avg(market_cap) as 'Market capitalization',
        avg(intrinsic_value) as 'Intrinsic value',
        avg(tsr) as yearly_tsr,
        (avg(market_cap) - avg(intrinsic_value))/ avg(intrinsic_value) as discount_or_premium
    FROM
        regions
    WHERE
        region = '${C.region}'
        AND sector IN ${d.sector_multi.value}
        AND year between ${d.start_date.value}::INT and ${d.end_date.value}::INT
    GROUP BY ALL
),
compound_tsr AS (
    SELECT
        *,
        EXP(SUM(LN(1 + yearly_tsr)) OVER (
            PARTITION BY sector
            ORDER BY year
        )) - 1 as cumulative_tsr
    FROM yearly_metrics
)
SELECT
    year,
    region,
    sector,
    "Market capitalization",
    "Intrinsic value",
    discount_or_premium,
    yearly_tsr,
    cumulative_tsr
FROM
    compound_tsr
ORDER BY
    sector,
    year)
    GROUP BY 
        sector, year
    ORDER BY year_date desc, yearly_market_cap desc
)
SELECT 
    sector,
    sum(yearly_market_cap) as total_market_cap,
    ARRAY_AGG({'year': year_date, 'market_cap': yearly_market_cap}) AS market_cap_data,
    ARRAY_AGG({'year': year_date, 'iv': yearly_iv}) AS iv_data,
    ARRAY_AGG({'year': year_date, 'dp': yearly_dp}) AS dp_data,
    ARRAY_AGG({'year': year_date, 'tsr': yearly_tsr}) AS tsr_data
FROM 
    yearly_market_cap
GROUP BY 
    sector`),i.$$.dirty[0]&1025&&t(37,ye=`WITH yearly_market_cap AS (
    SELECT 
        sector,
        MAKE_DATE(year::INT, 1, 1) AS year_date,  -- converting numeric year to date
        AVG("Market capitalization") AS yearly_market_cap,
        AVG("Intrinsic value") AS yearly_iv,
        AVG("discount_or_premium") AS yearly_dp,
        AVG("cumulative_tsr") AS yearly_tsr,
    FROM 
        (WITH yearly_metrics AS (
    SELECT
        year,
        region,
        sector,
        avg(market_cap) as 'Market capitalization',
        avg(intrinsic_value) as 'Intrinsic value',
        avg(tsr) as yearly_tsr,
        (avg(market_cap) - avg(intrinsic_value))/ avg(intrinsic_value) as discount_or_premium
    FROM
        regions
    WHERE
        region = '${C.region}'
        AND sector IN ${d.sector_multi.value}
        AND year between ${d.start_date.value}::INT and ${d.end_date.value}::INT
    GROUP BY ALL
),
compound_tsr AS (
    SELECT
        *,
        EXP(SUM(LN(1 + yearly_tsr)) OVER (
            PARTITION BY sector
            ORDER BY year
        )) - 1 as cumulative_tsr
    FROM yearly_metrics
)
SELECT
    year,
    region,
    sector,
    "Market capitalization",
    "Intrinsic value",
    discount_or_premium,
    yearly_tsr,
    cumulative_tsr
FROM
    compound_tsr
ORDER BY
    sector,
    year)
    GROUP BY 
        sector, year
    ORDER BY year_date desc, yearly_market_cap desc
)
SELECT 
    sector,
    sum(yearly_market_cap) as total_market_cap,
    ARRAY_AGG({'year': year_date, 'market_cap': yearly_market_cap}) AS market_cap_data,
    ARRAY_AGG({'year': year_date, 'iv': yearly_iv}) AS iv_data,
    ARRAY_AGG({'year': year_date, 'dp': yearly_dp}) AS dp_data,
    ARRAY_AGG({'year': year_date, 'tsr': yearly_tsr}) AS tsr_data
FROM 
    yearly_market_cap
GROUP BY 
    sector`),i.$$.dirty[1]&240&&(ce||!Ce?ce||(Ae(ye,{noResolve:ce,...ue}),t(38,Ce=!0)):Ae(ye,{noResolve:ce}))},t(12,k=xe`SELECT
    DISTINCT year,
    year::VARCHAR as year_str
FROM
    regions
WHERE year IS NOT NULL
ORDER BY year`),t(13,h=`SELECT
    DISTINCT year,
    year::VARCHAR as year_str
FROM
    regions
WHERE year IS NOT NULL
ORDER BY year`),t(20,_=xe`SELECT
  *
FROM
  (SELECT 
    'market_cap' as metric, 'Perception' as category,  'usd' as unit, 2 as "order"
  UNION ALL
  SELECT 'intrinsic_value', 'Performance', 'usd', 1
  UNION ALL
  SELECT 'tsr', 'Pay off', 'pct', 3)
ORDER BY "order"`),t(21,F=`SELECT
  *
FROM
  (SELECT 
    'market_cap' as metric, 'Perception' as category,  'usd' as unit, 2 as "order"
  UNION ALL
  SELECT 'intrinsic_value', 'Performance', 'usd', 1
  UNION ALL
  SELECT 'tsr', 'Pay off', 'pct', 3)
ORDER BY "order"`),t(24,R=xe`SELECT
  *
FROM
  (SELECT 
    'tsr' as metric, 'Total shareholder return' as metric_name, 1 as "order"
  UNION ALL
  SELECT 'discount_or_premium', 'Discount/Premium', 2)
ORDER BY "order"`),t(25,me=`SELECT
  *
FROM
  (SELECT 
    'tsr' as metric, 'Total shareholder return' as metric_name, 1 as "order"
  UNION ALL
  SELECT 'discount_or_premium', 'Discount/Premium', 2)
ORDER BY "order"`),t(28,P=xe`SELECT
    DISTINCT sector
FROM
    regions
WHERE sector IS NOT NULL`),t(29,$=`SELECT
    DISTINCT sector
FROM
    regions
WHERE sector IS NOT NULL`),[d,T,v,N,ie,ee,oe,be,l,a,C,D,k,h,M,B,H,S,z,x,_,F,I,m,R,me,K,J,P,$,W,se,y,L,de,ue,ce,ye,Ce,r]}class is extends at{constructor(e){super(),st(this,e,va,Xa,lt,{data:8},null,[-1,-1])}}export{is as component};
